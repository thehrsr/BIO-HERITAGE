/*! wtf_wikipedia  MIT */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).wtf=t()}(this,(function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var i=function e(){if(this instanceof e){var i=[null];return i.push.apply(i,arguments),new(Function.bind.apply(t,i))}return t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var a=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(i,t,a.get?a:{enumerable:!0,get:function(){return e[t]}})})),i}var i=t(Object.freeze({__proto__:null,default:function(e,t){return t=t||{},new Promise((function(i,a){var n=new XMLHttpRequest,r=[],o=[],s={},l=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(n.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:l,headers:{keys:function(){return r},entries:function(){return o},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var c in n.open(t.method||"get",e,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,i){r.push(t=t.toLowerCase()),o.push([t,i]),s[t]=s[t]?s[t]+","+i:i})),i(l())},n.onerror=a,n.withCredentials="include"==t.credentials,t.headers)n.setRequestHeader(c,t.headers[c]);n.send(t.body||null)}))}})),a=e(self.fetch||(self.fetch=i.default||i));const n=function(e){let t=new URL(e),i=t.pathname.replace(/^\/(wiki\/)?/,"");return i=decodeURIComponent(i),{domain:t.host,title:i}};function r(e){return e&&"string"==typeof e?e=(e=(e=(e=e.replace(/^\s+/,"")).replace(/\s+$/,"")).replace(/ {2}/," ")).replace(/\s, /,", "):""}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}const s=/(wikibooks|wikidata|wikimedia|wikinews|wikipedia|wikiquote|wikisource|wikispecies|wikiversity|wikivoyage|wiktionary|foundation|meta)\.org/,l={action:"query",prop:"revisions|pageprops",rvprop:"content|ids|timestamp",maxlag:5,rvslots:"main",origin:"*",format:"json",redirects:"true"},c=e=>e.replace(/ /g,"_").trim(),u=function(e,t=l){let i=Object.assign({},t),a="";if(e.domain){let t=s.test(e.domain)?"w/api.php":e.path;a=`https://${e.domain}/${t}?`}else{if(!e.lang||!e.wiki)return"";a=`https://${e.lang}.${e.wiki}.org/w/api.php?`}e.follow_redirects||delete i.redirects,e.origin&&(i.origin=e.origin);let n=e.title;if("number"==typeof n)i.pageids=n;else if("string"==typeof n)i.titles=c(n);else if(void 0!==n&&o(n)&&"number"==typeof n[0])i.pageids=n.filter((e=>e)).join("|");else{if(void 0===n||!0!==o(n)||"string"!=typeof n[0])return"";i.titles=n.filter((e=>e)).map(c).join("|")}return`${a}${r=i,Object.entries(r).map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join("&")}`;var r},m=function(e,t,i){let a=[];return e.sections().forEach((e=>{let n=[];n="string"==typeof i?e[t](i):e[t](),n.forEach((e=>{a.push(e)}))})),"number"==typeof i?void 0===a[i]?[]:[a[i]]:a},d=function(e,t){return Object.assign({},t,e)},p={title:!0,sections:!0,pageID:!0,categories:!0,wikidata:!0,description:!0,revisionID:!1,timestamp:!1,pageImage:!1,domain:!1,language:!1};var h=["category","abdeeling","bólkur","catagóir","categori","categoria","categoria","categoría","categorîa","categorìa","catégorie","categorie","catègorie","category","categuria","catigurìa","class","ẹ̀ka","flocc","flocc","flokkur","grup","jamii","kaarangay","kateggoría","kategooria","kategori","kategorî","kategoria","kategória","kategorie","kategoriija","kategorija","kategorio","kategoriya","kategoriýa","kategoriye","kategory","kategorya","kateqoriya","katiguriya","klad","luokka","ñemohenda","roinn","ronney","rummad","setensele","sokajy","sumut","thể","turkum","категорија","категория","категорія","катэгорыя","төркем","קטגוריה","تصنيف","تۈر","رده","श्रेणी","श्रेणी","বিষয়শ্রেণী","หมวดหมู่","분류","분류","分类"],g=["dab","disamb","disambig","disambiguation","aðgreining","aðgreining","aimai","airport disambiguation","ałtsʼáʼáztiin","anlam ayrımı","anlam ayrımı","apartigilo","argipen","begriepskloorenge","begriffsklärung","begriffsklärung","begriffsklärung","begriffsklearung","biology disambiguation","bisongidila","bkl","bokokani","caddayn","call sign disambiguation","caselaw disambiguation","chinese title disambiguation","clerheans","cudakirin","čvor","db","desambig","desambigación","desambiguação","desambiguació","desambiguación","desambiguáncia","desambiguasion","desambiguassiù","desambigui","dezambiguizare","dezanbìgua","dəqiqləşdirmə","dəqiqləşdirmə","disamb-term","disamb-terms","disamb2","disamb3","disamb4","disambigua","disambìgua","disambiguasi","disambiguation cleanup","disambiguation lead name","disambiguation lead","disambiguation name","disambiguazion","disambigue","discretiva","discretiva","disheñvelout","disingkek","dixanbigua","dixebra","diżambigwazzjoni","dmbox","doorverwijspagina","dp","dubbelsinnig","dubbelsinnig","dudalipen","dv","egyért","faaleaogaina","fleiri týdningar","fleirtyding","flertydig","förgrening","genus disambiguation","gì-ngiê","giklaro","gwahaniaethu","homonimo","homónimos","homonymie","hospital disambiguation","huaʻōlelo puana like","huaʻōlelo puana like","human name disambiguation cleanup","human name disambiguation","idirdhealú","khu-pia̍t","kthjellim","kujekesa","letter-number combination disambiguation","letter-numbercombdisambig","maana","maneo bin","mathematical disambiguation","mehrdüdig begreep","menm non","military unit disambiguation","muardüüdag artiikel","music disambiguation","myesakãrã","neibetsjuttings","nozīmju atdalīšana","number disambiguation","nuorodinis","nyahkekaburan","omonimeye","omonimi","omonimia","opus number disambiguation","page dé frouque","paglilinaw","panangilawlawag","pansayod","pejy mitovy anarana","peker","phonetics disambiguation","place name disambiguation","portal disambiguation","razdvojba","razločitev","razvrstavanje","reddaghey","road disambiguation","rozcestník","rozlišovacia stránka","school disambiguation","sclerir noziun","selvendyssivu","soilleireachadh","species latin name abbreviation disambiguation","species latin name disambiguation","station disambiguation","suzmunski","synagogue disambiguation","täpsustuslehekülg","täsmennyssivu","taxonomic authority disambiguation","taxonomy disambiguation","telplänov","template disambiguation","tlahtolmelahuacatlaliztli","trang định hướng","ujednoznacznienie","verdudeliking","wěcejwóznamowosć","wjacezmyslnosć","z","zambiguaçon","zeimeibu škiršona","αποσαφήνιση","айрық","аҵакырацәа","бир аайы јок","вишезначна одредница","ибҳомзудоӣ","кёб магъаналы","күп мәгънәләр","күп мәғәнәлелек","массехк маӏан хилар","мъногосъмꙑслиѥ","неадназначнасць","неадназначнасьць","неоднозначность","олон удхатай","појаснување","пояснение","са шумуд манавал","салаа утгатай","суолталар","текмаанисиздик","цо магіна гуреб","чеперушка","чолхалла","шуко ончыктымаш-влак","მრავალმნიშვნელოვანი","բազմիմաստութիւն","բազմիմաստություն","באדייטן","פירושונים","ابهام‌زدایی","توضيح","توضيح","دقیقلشدیرمه","ڕوونکردنەوە","سلجهائپ","ضد ابہام","گجگجی بیری","نامبهمېدنه","መንታ","अस्पष्टता","बहुअर्थी","बहुविकल्पी शब्द","দ্ব্যর্থতা নিরসন","ਗੁੰਝਲ-ਖੋਲ੍ਹ","સંદિગ્ધ શીર્ષક","பக்கவழி நெறிப்படுத்தல்","అయోమయ నివృత్తి","ದ್ವಂದ್ವ ನಿವಾರಣೆ","വിവക്ഷകൾ","වක්‍රෝත්ති","แก้ความกำกวม","သံတူကြောင်းကွဲ","သဵင်မိူၼ် တူၼ်ႈထႅဝ်ပႅၵ်ႇ","ណែនាំ","អសង្ស័យកម្ម","동음이의","扤清楚","搞清楚","曖昧さ回避","消歧义","釋義","gestion dj'omònim","sut'ichana qillqa","gestion dj'omònim","sut'ichana qillqa"],b=["file","image","चित्र","archivo","attēls","berkas","bestand","datei","dosiero","dosya","fájl","fasciculus","fichier","fil","fitxategi","fitxer","gambar","imagem","imej","immagine","larawan","lêer","plik","restr","slika","wêne","wobraz","выява","податотека","слика","файл","სურათი","պատկեր","קובץ","پرونده","دوتنه","ملف","وێنە","चित्र","ไฟล์","파일","ファイル"],f=["infobox","amatl","anfo","anuāmapa","bilgi kutusu","bilgi","bilgiquti","boaty fampahalalana","boaty","boestkelaouiñ","bosca","capsa","diehtokássa","faktamall","ficha","generalni","gwybodlen3","hộp thông tin","info","infoboesse 2","infobokis","infoboks","infobox deleted","infobox generic","infobox generiek","infochascha","infokašćik","infokast","infokutija","infolentelė","infookvir","infopolje","informkesto","infoschede","infoskreine","infotaula","inligtingskas","inligtingskas3","inligtingskas4","kishtey fys","kotak info","kotak","məlumat qutusu","simple box","tertcita tanxe","tertcita","tiätuloová","tietolaatikko","wd bosca sonraí","yerleşim bilgi kutusu","ynfoboks generyk","ynfoboks","πλαίσιο πληροφοριών","πλαίσιο","акарточка","аҥа","инфобокс","инфокутија","инфокутия","інфобокс","канадский","картка","карточка","карточка2","карточкарус","картуш","қуттӣ","ინფოდაფა","տեղեկաքարտ","תבנית","بطاقة","ڄاڻخانو","خانہ","لغة","معلوٗمات ڈَبہٕ","ज्ञानसन्दूक","তথ্যছক","ਜਾਣਕਾਰੀਡੱਬਾ","సమాచారపెట్టె","තොරතුරුකොටුව","กล่องข้อมูล","ກ່ອງຂໍ້ມູນ","ប្រអប់ព័ត៌មាន","정보상자","明細"];let k=" disambiguation";const w=["dab","dab","disamb","disambig","geodis","hndis","setindex","ship index","split dab","sport index","wp disambig","disambiguation cleanup","airport"+k,"biology"+k,"call sign"+k,"caselaw"+k,"chinese title"+k,"genus"+k,"hospital"+k,"lake index","letter"+k,"letter-number combination"+k,"mathematical"+k,"military unit"+k,"mountainindex","number"+k,"phonetics"+k,"place name"+k,"portal"+k,"road"+k,"school"+k,"species latin name abbreviation"+k,"species latin name"+k,"station"+k,"synagogue"+k,"taxonomic authority"+k,"taxonomy"+k].reduce(((e,t)=>(e[t]=!0,e)),{}),y=/. may (also )?refer to\b/i,$={about:!0,for:!0,"for multi":!0,"other people":!0,"other uses of":!0,distinguish:!0},x=new RegExp(". \\(("+["disambiguation","homonymie","توضيح","desambiguação","Begriffsklärung","disambigua","曖昧さ回避","消歧義","搞清楚","значения","ابهام‌زدایی","د ابہام","동음이의","dubbelsinnig","այլ կիրառումներ","ujednoznacznienie"].join("|")+")\\)$","i"),v=g.reduce(((e,t)=>(e[t]=!0,e)),{}),j=function(e){if(!e)return!1;let t=e.text();return!(null===t||!t[0]||!0!==y.test(t))};let _=new Set(["aboç","ahurhire","aizmetnis","amud","avixo de spigaso","beginnetje","bibarilo","borrador","buáng-nàng-hâ","bun","buntato","c-supranu","cahrot","chala","choutchette","ciot","csonk","cung","danvez pennad","djermon","ébauche","ébeuche","ebòch","édéntạ","eginyn","ẹ̀kúnrẹ́rẹ́","en progreso","entamu","esboço","esborrany","esbòs","esbozo","ĝermo","gumud","ʻōmuku","junj","klado","maramara","mayele","mbegu","mrva","na mulno","nadabeigts rakstīņs","nalta","narcce","pahýl","pecietta","phí","pondok","por mejoral","potuʻi","pungol","qaralama","rabisco","rancangan","rintisan","saadjie","saha","sbozz","sid","síol","şitil","sjtumpke","skizz","skizze","škrbina","sơ khai","spire","stipula","stob","stobbe","stompje","stub","stubben","stubbi","stubbur","stump","stumpen","stycce","suli","taslak","taslaq","tunas","turók","tynkä","vangovango","vernuşte","výhonok","xinnoo","zarodk","zirriborroa","επέκταση","әҙерләмә","заготовка","керф","кечдар","клица","къæртт","кьурхь","мәкалә төпчеге","мъниче","накід","нєꙁаврьшєнъ члѣнъ","никулец","омоон","стыржень","хурд","хӏадурунжо","ესკიზი","መዋቅር","መዋቕር","अपूर्णलेखः","आधार","ठुटो","धाक्टें पान","विस्तार","অসম্পূর্ণ","পোখালি","સ્ટબ","ଅଧାଗଢ଼ା","குறுங்கட்டுரை","మొలక","ಎಲ್ಯ","ಚುಟುಕು","അപൂർണ്ണം","අංකුරය","โครง","ཆ་མི་ཚང་བ","អត្ថបទខ្លីមិនពេញលេញ","토막글","楔","芻文"]);const z={caption:!0,alt:!0,links:!0,thumb:!0,url:!0},O=function(e){Object.defineProperty(this,"data",{enumerable:!1,value:e})},E={file(){let e=this.data.file||"";if(e){/^(image|file):/i.test(e)||(e=`File:${e}`),e=e.trim(),e=e.charAt(0).toUpperCase()+e.substring(1),e=e.replace(/ /g,"_")}return e},alt(){let e=this.data.alt||this.data.file||"";return e=e.replace(/^(file|image):/i,""),e=e.replace(/\.(jpg|jpeg|png|gif|svg)/i,""),e.replace(/_/g," ")},caption(){return this.data.caption?this.data.caption.text():""},links(){return this.data.caption?this.data.caption.links():[]},url(){let e=function(e){let t=function(e){let t=e.replace(/^(image|file?):/i,"");return t=t.charAt(0).toUpperCase()+t.substring(1),t=t.trim().replace(/ /g,"_"),t}(e);return t=encodeURIComponent(t),t}(this.file());return`https://${this.data.domain||"wikipedia.org"}/wiki/Special:Redirect/file/${e}`},thumbnail(e){return e=e||300,this.url()+"?width="+e},format(){let e=this.file().split(".");return e[e.length-1]?e[e.length-1].toLowerCase():null},json:function(e){return function(e,t){t=d(t,z);let i={file:e.file()};return!1!==t.thumb&&(i.thumb=e.thumbnail()),!1!==t.url&&(i.url=e.url()),!1!==t.caption&&e.data.caption&&(i.caption=e.caption(),!1!==t.links&&e.data.caption.links()&&(i.links=e.links())),!1!==t.alt&&e.data.alt&&(i.alt=e.alt()),i}(this,e=e||{})},text:function(){return""},wikitext:function(){return this.data.wiki||""}};Object.keys(E).forEach((e=>{O.prototype[e]=E[e]})),O.prototype.src=O.prototype.url,O.prototype.thumb=O.prototype.thumbnail;var q={aa:"Afar",ab:"Аҧсуа",af:"Afrikaans",ak:"Akana",als:"Alemannisch",am:"አማርኛ",an:"Aragonés",ang:"Englisc",ar:"العربية",arc:"ܣܘܪܬ",as:"অসমীয়া",ast:"Asturianu",av:"Авар",ay:"Aymar",az:"Azərbaycanca",ba:"Башҡорт",bar:"Boarisch","bat-smg":"Žemaitėška",bcl:"Bikol",be:"Беларуская","be-x-old":"ltr",bg:"Български",bh:"भोजपुरी",bi:"Bislama",bm:"Bamanankan",bn:"বাংলা",bo:"བོད་ཡིག",bpy:"ltr",br:"Brezhoneg",bs:"Bosanski",bug:"ᨅᨔ",bxr:"ltr",ca:"Català",cdo:"Chinese",ce:"Нохчийн",ceb:"Sinugboanong",ch:"Chamoru",cho:"Choctaw",chr:"ᏣᎳᎩ",chy:"Tsetsêhestâhese",co:"Corsu",cr:"Nehiyaw",cs:"Česky",csb:"Kaszëbsczi",cu:"Slavonic",cv:"Чăваш",cy:"Cymraeg",da:"Dansk",de:"Deutsch",diq:"Zazaki",dsb:"ltr",dv:"ދިވެހިބަސް",dz:"ཇོང་ཁ",ee:"Ɛʋɛ",far:"فارسی",el:"Ελληνικά",en:"English",eo:"Esperanto",es:"Español",et:"Eesti",eu:"Euskara",ext:"Estremeñu",ff:"Fulfulde",fi:"Suomi","fiu-vro":"Võro",fj:"Na",fo:"Føroyskt",fr:"Français",frp:"Arpitan",fur:"Furlan",fy:"ltr",ga:"Gaeilge",gan:"ltr",gd:"ltr",gil:"Taetae",gl:"Galego",gn:"Avañe'ẽ",got:"gutisk",gu:"ગુજરાતી",gv:"Gaelg",ha:"هَوُسَ",hak:"ltr",haw:"Hawai`i",he:"עברית",hi:"हिन्दी",ho:"ltr",hr:"Hrvatski",ht:"Krèyol",hu:"Magyar",hy:"Հայերեն",hz:"Otsiherero",ia:"Interlingua",id:"Bahasa",ie:"Interlingue",ig:"Igbo",ii:"ltr",ik:"Iñupiak",ilo:"Ilokano",io:"Ido",is:"Íslenska",it:"Italiano",iu:"ᐃᓄᒃᑎᑐᑦ",ja:"日本語",jbo:"Lojban",jv:"Basa",ka:"ქართული",kg:"KiKongo",ki:"Gĩkũyũ",kj:"Kuanyama",kk:"Қазақша",kl:"Kalaallisut",km:"ភាសាខ្មែរ",kn:"ಕನ್ನಡ",khw:"کھوار",ko:"한국어",kr:"Kanuri",ks:"कश्मीरी",ksh:"Ripoarisch",ku:"Kurdî",kv:"Коми",kw:"Kernewek",ky:"Kırgızca",la:"Latina",lad:"Dzhudezmo",lan:"Leb",lb:"Lëtzebuergesch",lg:"Luganda",li:"Limburgs",lij:"Líguru",lmo:"Lumbaart",ln:"Lingála",lo:"ລາວ",lt:"Lietuvių",lv:"Latviešu","map-bms":"Basa",mg:"Malagasy",man:"官話",mh:"Kajin",mi:"Māori",min:"Minangkabau",mk:"Македонски",ml:"മലയാളം",mn:"Монгол",mo:"Moldovenească",mr:"मराठी",ms:"Bahasa",mt:"bil-Malti",mus:"Muskogee",my:"Myanmasa",na:"Dorerin",nah:"Nahuatl",nap:"Nnapulitano",nd:"ltr",nds:"Plattdüütsch","nds-nl":"Saxon",ne:"नेपाली",new:"नेपालभाषा",ng:"Oshiwambo",nl:"Nederlands",nn:"ltr",no:"Norsk",nr:"ltr",nso:"ltr",nrm:"Nouormand",nv:"Diné",ny:"Chi-Chewa",oc:"Occitan",oj:"ᐊᓂᔑᓈᐯᒧᐎᓐ",om:"Oromoo",or:"ଓଡ଼ିଆ",os:"Иронау",pa:"ਪੰਜਾਬੀ",pag:"Pangasinan",pam:"Kapampangan",pap:"Papiamentu",pdc:"ltr",pi:"Pāli",pih:"Norfuk",pl:"Polski",pms:"Piemontèis",ps:"پښتو",pt:"Português",qu:"Runa",rm:"ltr",rmy:"Romani",rn:"Kirundi",ro:"Română","roa-rup":"Armâneashti",ru:"Русский",rw:"Kinyarwandi",sa:"संस्कृतम्",sc:"Sardu",scn:"Sicilianu",sco:"Scots",sd:"सिनधि",se:"ltr",sg:"Sängö",sh:"Srpskohrvatski",si:"සිංහල",simple:"ltr",sk:"Slovenčina",sl:"Slovenščina",sm:"Gagana",sn:"chiShona",so:"Soomaaliga",sq:"Shqip",sr:"Српски",ss:"SiSwati",st:"ltr",su:"Basa",sv:"Svenska",sw:"Kiswahili",ta:"தமிழ்",te:"తెలుగు",tet:"Tetun",tg:"Тоҷикӣ",th:"ไทย",ti:"ትግርኛ",tk:"Туркмен",tl:"Tagalog",tlh:"tlhIngan-Hol",tn:"Setswana",to:"Lea",tpi:"ltr",tr:"Türkçe",ts:"Xitsonga",tt:"Tatarça",tum:"chiTumbuka",tw:"Twi",ty:"Reo",udm:"Удмурт",ug:"Uyƣurqə",uk:"Українська",ur:"اردو",uz:"Ўзбек",ve:"Tshivenḓa",vi:"Việtnam",vec:"Vèneto",vls:"ltr",vo:"Volapük",wa:"Walon",war:"Winaray",wo:"Wollof",xal:"Хальмг",xh:"isiXhosa",yi:"ייִדיש",yo:"Yorùbá",za:"Cuengh",zh:"中文","zh-classical":"ltr","zh-min-nan":"Bân-lâm-gú","zh-yue":"粵語",zu:"isiZulu"};const S=".wikipedia.org/wiki/$1",N=".wikimedia.org/wiki/$1",C="www.";var L={acronym:C+"acronymfinder.com/$1.html",advisory:"advisory"+N,advogato:C+"advogato.org/$1",aew:"wiki.arabeyes.org/$1",appropedia:C+"appropedia.org/$1",aquariumwiki:C+"theaquariumwiki.com/$1",arborwiki:"localwiki.org/ann-arbor/$1",arxiv:"arxiv.org/abs/$1",atmwiki:C+"otterstedt.de/wiki/index.php/$1",baden:C+"stadtwiki-baden-baden.de/wiki/$1/",battlestarwiki:"en.battlestarwiki.org/wiki/$1",bcnbio:"historiapolitica.bcn.cl/resenas_parlamentarias/wiki/$1",beacha:C+"beachapedia.org/$1",betawiki:"translatewiki.net/wiki/$1",bibcode:"adsabs.harvard.edu/abs/$1",bibliowiki:"wikilivres.org/wiki/$1",bluwiki:"bluwiki.com/go/$1",blw:"britainloves"+S,botwiki:"botwiki.sno.cc/wiki/$1",boxrec:C+"boxrec.com/media/index.php?$1",brickwiki:C+"brickwiki.info/wiki/$1",bugzilla:"bugzilla.wikimedia.org/show_bug.cgi?id=$1",bulba:"bulbapedia.bulbagarden.net/wiki/$1",c:"commons"+N,c2:"c2.com/cgi/wiki?$1",c2find:"c2.com/cgi/wiki?FindPage&value=$1",cache:C+"google.com/search?q=cache:$1","ĉej":"esperanto.blahus.cz/cxej/vikio/index.php/$1",cellwiki:"cell.wikia.com/wiki/$1",centralwikia:"community.wikia.com/wiki/$1",chej:"esperanto.blahus.cz/cxej/vikio/index.php/$1",choralwiki:C+"cpdl.org/wiki/index.php/$1",citizendium:"en.citizendium.org/wiki/$1",ckwiss:C+"ck-wissen.de/ckwiki/index.php?title=$1",comixpedia:C+"comixpedia.org/index.php?title=$1",commons:"commons"+N,communityscheme:"community.schemewiki.org/?c=s&key=$1",communitywiki:"communitywiki.org/$1",comune:"rete.comuni-italiani.it/wiki/$1",creativecommons:"creativecommons.org/licenses/$1",creativecommonswiki:"wiki.creativecommons.org/$1",cxej:"esperanto.blahus.cz/cxej/vikio/index.php/$1",dcc:C+"dccwiki.com/$1",dcdatabase:"dc.wikia.com/$1",dcma:"christian-morgenstern.de/dcma/index.php?title=$1",debian:"wiki.debian.org/$1",delicious:C+"delicious.com/tag/$1",devmo:"developer.mozilla.org/en/docs/$1",dictionary:C+"dict.org/bin/Dict?Database=*&Form=Dict1&Strategy=*&Query=$1",dict:C+"dict.org/bin/Dict?Database=*&Form=Dict1&Strategy=*&Query=$1",disinfopedia:"sourcewatch.org/index.php/$1",distributedproofreaders:C+"pgdp.net/wiki/$1",distributedproofreadersca:C+"pgdpcanada.net/wiki/index.php/$1",dmoz:"curlie.org/$1",dmozs:"curlie.org/search?q=$1",doi:"doi.org/$1",donate:"donate"+N,doom_wiki:"doom.wikia.com/wiki/$1",download:"releases.wikimedia.org/$1",dbdump:"dumps.wikimedia.org/$1/latest/",dpd:"lema.rae.es/dpd/?key=$1",drae:"dle.rae.es/?w=$1",dreamhost:"wiki.dreamhost.com/index.php/$1",drumcorpswiki:C+"drumcorpswiki.com/index.php/$1",dwjwiki:C+"suberic.net/cgi-bin/dwj/wiki.cgi?$1","eĉei":C+"ikso.net/cgi-bin/wiki.pl?$1",ecoreality:C+"EcoReality.org/wiki/$1",ecxei:C+"ikso.net/cgi-bin/wiki.pl?$1",elibre:"enciclopedia.us.es/index.php/$1",emacswiki:C+"emacswiki.org/emacs?$1",encyc:"encyc.org/wiki/$1",energiewiki:C+"netzwerk-energieberater.de/wiki/index.php/$1",englyphwiki:"en.glyphwiki.org/wiki/$1",enkol:"enkol.pl/$1",eokulturcentro:"esperanto.toulouse.free.fr/nova/wikini/wakka.php?wiki=$1",esolang:"esolangs.org/wiki/$1",etherpad:"etherpad.wikimedia.org/$1",ethnologue:C+"ethnologue.com/language/$1",ethnologuefamily:C+"ethnologue.com/show_family.asp?subid=$1",evowiki:"wiki.cotch.net/index.php/$1",exotica:C+"exotica.org.uk/wiki/$1",fanimutationwiki:"wiki.animutationportal.com/index.php/$1",fedora:"fedoraproject.org/wiki/$1",finalfantasy:"finalfantasy.wikia.com/wiki/$1",finnix:C+"finnix.org/$1",flickruser:C+"flickr.com/people/$1",flickrphoto:C+"flickr.com/photo.gne?id=$1",floralwiki:C+"floralwiki.co.uk/wiki/$1",foldoc:"foldoc.org/$1",foundation:"foundation"+N,foundationsite:"wikimediafoundation.org/$1",foxwiki:"fox.wikis.com/wc.dll?Wiki~$1",freebio:"freebiology.org/wiki/$1",freebsdman:C+"FreeBSD.org/cgi/man.cgi?apropos=1&query=$1",freeculturewiki:"wiki.freeculture.org/index.php/$1",freedomdefined:"freedomdefined.org/$1",freefeel:"freefeel.org/wiki/$1",freekiwiki:"wiki.freegeek.org/index.php/$1",freesoft:"directory.fsf.org/wiki/$1",ganfyd:"ganfyd.org/index.php?title=$1",gardenology:C+"gardenology.org/wiki/$1",gausswiki:"gauss.ffii.org/$1",gentoo:"wiki.gentoo.org/wiki/$1",genwiki:"wiki.genealogy.net/index.php/$1",gerrit:"gerrit.wikimedia.org/r/$1",git:"gerrit.wikimedia.org/g/$1",google:C+"google.com/search?q=$1",googledefine:C+"google.com/search?q=define:$1",googlegroups:"groups.google.com/groups?q=$1",guildwarswiki:"wiki.guildwars.com/wiki/$1",guildwiki:"guildwars.wikia.com/wiki/$1",guc:"tools.wmflabs.org/guc/?user=$1",gucprefix:"tools.wmflabs.org/guc/?isPrefixPattern=1&src=rc&user=$1",gutenberg:C+"gutenberg.org/etext/$1",gutenbergwiki:C+"gutenberg.org/wiki/$1",hackerspaces:"hackerspaces.org/wiki/$1",h2wiki:"halowiki.net/p/$1",hammondwiki:C+"dairiki.org/HammondWiki/index.php3?$1",hdl:"hdl.handle.net/$1",heraldik:"heraldik-wiki.de/wiki/$1",heroeswiki:"heroeswiki.com/$1",horizonlabs:"horizon.wikimedia.org/$1",hrwiki:C+"hrwiki.org/index.php/$1",hrfwiki:"fanstuff.hrwiki.org/index.php/$1",hupwiki:"wiki.hup.hu/index.php/$1",iarchive:"archive.org/details/$1",imdbname:C+"imdb.com/name/nm$1/",imdbtitle:C+"imdb.com/title/tt$1/",imdbcompany:C+"imdb.com/company/co$1/",imdbcharacter:C+"imdb.com/character/ch$1/",incubator:"incubator"+N,infosecpedia:"infosecpedia.org/wiki/$1",infosphere:"theinfosphere.org/$1","iso639-3":"iso639-3.sil.org/code/$1",issn:C+"worldcat.org/issn/$1",iuridictum:"iuridictum.pecina.cz/w/$1",jaglyphwiki:"glyphwiki.org/wiki/$1",jefo:"esperanto-jeunes.org/wiki/$1",jerseydatabase:"jerseydatabase.com/wiki.php?id=$1",jira:"jira.toolserver.org/browse/$1",jspwiki:C+"ecyrd.com/JSPWiki/Wiki.jsp?page=$1",jstor:C+"jstor.org/journals/$1",kamelo:"kamelopedia.mormo.org/index.php/$1",karlsruhe:"ka.stadtwiki.net/$1",kinowiki:"kino.skripov.com/index.php/$1",komicawiki:"wiki.komica.org/?$1",kontuwiki:"kontu.wiki/$1",wikitech:"wikitech"+N,libreplanet:"libreplanet.org/wiki/$1",linguistlist:"linguistlist.org/forms/langs/LLDescription.cfm?code=$1",linuxwiki:C+"linuxwiki.de/$1",linuxwikide:C+"linuxwiki.de/$1",liswiki:"liswiki.org/wiki/$1",literateprograms:"en.literateprograms.org/$1",livepedia:C+"livepedia.gr/index.php?title=$1",localwiki:"localwiki.org/$1",lojban:"mw.lojban.org/papri/$1",lostpedia:"lostpedia.wikia.com/wiki/$1",lqwiki:"wiki.linuxquestions.org/wiki/$1",luxo:"tools.wmflabs.org/guc/?user=$1",mail:"lists.wikimedia.org/mailman/listinfo/$1",mailarchive:"lists.wikimedia.org/pipermail/$1",mariowiki:C+"mariowiki.com/$1",marveldatabase:C+"marveldatabase.com/wiki/index.php/$1",meatball:"meatballwiki.org/wiki/$1",mw:C+"mediawiki.org/wiki/$1",mediazilla:"bugzilla.wikimedia.org/$1",memoryalpha:"memory-alpha.fandom.com/wiki/$1",metawiki:"meta"+N,metawikimedia:"meta"+N,metawikipedia:"meta"+N,mineralienatlas:C+"mineralienatlas.de/lexikon/index.php/$1",moinmoin:"moinmo.in/$1",monstropedia:C+"monstropedia.org/?title=$1",mosapedia:"mosapedia.de/wiki/index.php/$1",mozcom:"mozilla.wikia.com/wiki/$1",mozillawiki:"wiki.mozilla.org/$1",mozillazinekb:"kb.mozillazine.org/$1",musicbrainz:"musicbrainz.org/doc/$1",mediawikiwiki:C+"mediawiki.org/wiki/$1",mwod:C+"merriam-webster.com/dictionary/$1",mwot:C+"merriam-webster.com/thesaurus/$1",nkcells:C+"nkcells.info/index.php?title=$1",nara:"catalog.archives.gov/id/$1",nosmoke:"no-smok.net/nsmk/$1",nost:"nostalgia"+S,nostalgia:"nostalgia"+S,oeis:"oeis.org/$1",oldwikisource:"wikisource.org/wiki/$1",olpc:"wiki.laptop.org/go/$1",omegawiki:C+"omegawiki.org/Expression:$1",onelook:C+"onelook.com/?ls=b&w=$1",openlibrary:"openlibrary.org/$1",openstreetmap:"wiki.openstreetmap.org/wiki/$1",openwetware:"openwetware.org/wiki/$1",opera7wiki:"operawiki.info/$1",organicdesign:C+"organicdesign.co.nz/$1",orthodoxwiki:"orthodoxwiki.org/$1",osmwiki:"wiki.openstreetmap.org/wiki/$1",otrs:"ticket.wikimedia.org/otrs/index.pl?Action=AgentTicketZoom&TicketID=$1",otrswiki:"otrs-wiki"+N,ourmedia:C+"socialtext.net/ourmedia/index.cgi?$1",outreach:"outreach"+N,outreachwiki:"outreach"+N,owasp:C+"owasp.org/index.php/$1",panawiki:"wiki.alairelibre.net/index.php?title=$1",patwiki:"gauss.ffii.org/$1",personaltelco:"personaltelco.net/wiki/$1",petscan:"petscan.wmflabs.org/?psid=$1",phab:"phabricator.wikimedia.org/$1",phabricator:"phabricator.wikimedia.org/$1",phwiki:C+"pocketheaven.com/ph/wiki/index.php?title=$1",phpwiki:"phpwiki.sourceforge.net/phpwiki/index.php?$1",planetmath:"planetmath.org/node/$1",pmeg:C+"bertilow.com/pmeg/$1",pmid:C+"ncbi.nlm.nih.gov/pubmed/$1?dopt=Abstract",pokewiki:"pokewiki.de/$1","pokéwiki":"pokewiki.de/$1",policy:"policy.wikimedia.org/$1",proofwiki:C+"proofwiki.org/wiki/$1",pyrev:C+"mediawiki.org/wiki/Special:Code/pywikipedia/$1",pythoninfo:"wiki.python.org/moin/$1",pythonwiki:C+"pythonwiki.de/$1",pywiki:"c2.com/cgi/wiki?$1",psycle:"psycle.sourceforge.net/wiki/$1",quality:"quality"+N,quarry:"quarry.wmflabs.org/$1",regiowiki:"regiowiki.at/wiki/$1",rev:C+"mediawiki.org/wiki/Special:Code/MediaWiki/$1",revo:"purl.org/NET/voko/revo/art/$1.html",rfc:"tools.ietf.org/html/rfc$1",rheinneckar:"rhein-neckar-wiki.de/$1",robowiki:"robowiki.net/?$1",rodovid:"en.rodovid.org/wk/$1",reuterswiki:"glossary.reuters.com/index.php/$1",rowiki:"wiki.rennkuckuck.de/index.php/$1",rt:"rt.wikimedia.org/Ticket/Display.html?id=$1",s23wiki:"s23.org/wiki/$1",scholar:"scholar.google.com/scholar?q=$1",schoolswp:"schools-"+S,scores:"imslp.org/wiki/$1",scoutwiki:"en.scoutwiki.org/$1",scramble:C+"scramble.nl/wiki/index.php?title=$1",seapig:C+"seapig.org/$1",seattlewiki:"seattle.wikia.com/wiki/$1",slwiki:"wiki.secondlife.com/wiki/$1","semantic-mw":C+"semantic-mediawiki.org/wiki/$1",senseislibrary:"senseis.xmp.net/?$1",sharemap:"sharemap.org/$1",silcode:C+"sil.org/iso639-3/documentation.asp?id=$1",slashdot:"slashdot.org/article.pl?sid=$1",sourceforge:"sourceforge.net/$1",spcom:"spcom"+N,species:"species"+N,squeak:"wiki.squeak.org/squeak/$1",stats:"stats.wikimedia.org/$1",stewardry:"tools.wmflabs.org/meta/stewardry/?wiki=$1",strategy:"strategy"+N,strategywiki:"strategywiki.org/wiki/$1",sulutil:"meta.wikimedia.org/wiki/Special:CentralAuth/$1",swtrain:"train.spottingworld.com/$1",svn:"svn.wikimedia.org/viewvc/mediawiki/$1?view=log",swinbrain:"swinbrain.ict.swin.edu.au/wiki/$1",tabwiki:C+"tabwiki.com/index.php/$1",tclerswiki:"wiki.tcl.tk/$1",technorati:C+"technorati.com/search/$1",tenwiki:"ten"+S,testwiki:"test"+S,testwikidata:"test.wikidata.org/wiki/$1",test2wiki:"test2"+S,tfwiki:"tfwiki.net/wiki/$1",thelemapedia:C+"thelemapedia.org/index.php/$1",theopedia:C+"theopedia.com/$1",thinkwiki:C+"thinkwiki.org/wiki/$1",ticket:"ticket.wikimedia.org/otrs/index.pl?Action=AgentTicketZoom&TicketNumber=$1",tmbw:"tmbw.net/wiki/$1",tmnet:C+"technomanifestos.net/?$1",tmwiki:C+"EasyTopicMaps.com/?page=$1",toolforge:"tools.wmflabs.org/$1",toollabs:"tools.wmflabs.org/$1",tools:"toolserver.org/$1",tswiki:C+"mediawiki.org/wiki/Toolserver:$1",translatewiki:"translatewiki.net/wiki/$1",tviv:"tviv.org/wiki/$1",tvtropes:C+"tvtropes.org/pmwiki/pmwiki.php/Main/$1",twiki:"twiki.org/cgi-bin/view/$1",tyvawiki:C+"tyvawiki.org/wiki/$1",umap:"umap.openstreetmap.fr/$1",uncyclopedia:"en.uncyclopedia.co/wiki/$1",unihan:C+"unicode.org/cgi-bin/GetUnihanData.pl?codepoint=$1",unreal:"wiki.beyondunreal.com/wiki/$1",urbandict:C+"urbandictionary.com/define.php?term=$1",usej:C+"tejo.org/usej/$1",usemod:C+"usemod.com/cgi-bin/wiki.pl?$1",usability:"usability"+N,utrs:"utrs.wmflabs.org/appeal.php?id=$1",vikidia:"fr.vikidia.org/wiki/$1",vlos:"tusach.thuvienkhoahoc.com/wiki/$1",vkol:"kol.coldfront.net/thekolwiki/index.php/$1",voipinfo:C+"voip-info.org/wiki/view/$1",votewiki:"vote"+N,werelate:C+"werelate.org/wiki/$1",wg:"wg-en"+S,wikia:C+"wikia.com/wiki/w:c:$1",wikiasite:C+"wikia.com/wiki/w:c:$1",wikiapiary:"wikiapiary.com/wiki/$1",wikibooks:"en.wikibooks.org/wiki/$1",wikichristian:C+"wikichristian.org/index.php?title=$1",wikicities:C+"wikia.com/wiki/w:$1",wikicity:C+"wikia.com/wiki/w:c:$1",wikiconference:"wikiconference.org/wiki/$1",wikidata:C+"wikidata.org/wiki/$1",wikif1:C+"wikif1.org/$1",wikifur:"en.wikifur.com/wiki/$1",wikihow:C+"wikihow.com/$1",wikiindex:"wikiindex.org/$1",wikilemon:"wiki.illemonati.com/$1",wikilivres:"wikilivres.org/wiki/$1",wikilivresru:"wikilivres.ru/$1","wikimac-de":"apfelwiki.de/wiki/Main/$1",wikimedia:"foundation"+N,wikinews:"en.wikinews.org/wiki/$1",wikinfo:"wikinfo.org/w/index.php/$1",wikinvest:"meta.wikimedia.org/wiki/Interwiki_map/discontinued#Wikinvest",wikiotics:"wikiotics.org/$1",wikipapers:"wikipapers.referata.com/wiki/$1",wikipedia:"en"+S,wikipediawikipedia:"en.wikipedia.org/wiki/Wikipedia:$1",wikiquote:"en.wikiquote.org/wiki/$1",wikisophia:"wikisophia.org/index.php?title=$1",wikisource:"en.wikisource.org/wiki/$1",wikispecies:"species"+N,wikispot:"wikispot.org/?action=gotowikipage&v=$1",wikiskripta:C+"wikiskripta.eu/index.php/$1",labsconsole:"wikitech"+N,wikiti:"wikiti.denglend.net/index.php?title=$1",wikiversity:"en.wikiversity.org/wiki/$1",wikivoyage:"en.wikivoyage.org/wiki/$1",betawikiversity:"beta.wikiversity.org/wiki/$1",wikiwikiweb:"c2.com/cgi/wiki?$1",wiktionary:"en.wiktionary.org/wiki/$1",wipipedia:"wipipedia.org/index.php/$1",wlug:C+"wlug.org.nz/$1",wmam:"am"+N,wmar:C+"wikimedia.org.ar/wiki/$1",wmat:"mitglieder.wikimedia.at/$1",wmau:"wikimedia.org.au/wiki/$1",wmbd:"bd"+N,wmbe:"be"+N,wmbr:"br"+N,wmca:"ca"+N,wmch:C+"wikimedia.ch/$1",wmcl:C+"wikimediachile.cl/index.php?title=$1",wmcn:"cn"+N,wmco:"co"+N,wmcz:C+"wikimedia.cz/web/$1",wmdc:"wikimediadc.org/wiki/$1",securewikidc:"secure.wikidc.org/$1",wmde:"wikimedia.de/wiki/$1",wmdk:"dk"+N,wmee:"ee"+N,wmec:"ec"+N,wmes:C+"wikimedia.es/wiki/$1",wmet:"ee"+N,wmfdashboard:"outreachdashboard.wmflabs.org/$1",wmfi:"fi"+N,wmfr:"wikimedia.fr/$1",wmge:"ge"+N,wmhi:"hi"+N,wmhk:"meta.wikimedia.org/wiki/Wikimedia_Hong_Kong",wmhu:"wikimedia.hu/wiki/$1",wmid:"id"+N,wmil:C+"wikimedia.org.il/$1",wmin:"wiki.wikimedia.in/$1",wmit:"wiki.wikimedia.it/wiki/$1",wmke:"meta.wikimedia.org/wiki/Wikimedia_Kenya",wmmk:"mk"+N,wmmx:"mx"+N,wmnl:"nl"+N,wmnyc:"nyc"+N,wmno:"no"+N,"wmpa-us":"pa-us"+N,wmph:"meta.wikimedia.org/wiki/Wikimedia_Philippines",wmpl:"pl"+N,wmpt:"pt"+N,wmpunjabi:"punjabi"+N,wmromd:"romd"+N,wmrs:"rs"+N,wmru:"ru"+N,wmse:"se"+N,wmsk:"wikimedia.sk/$1",wmtr:"tr"+N,wmtw:"wikimedia.tw/wiki/index.php5/$1",wmua:"ua"+N,wmuk:"wikimedia.org.uk/wiki/$1",wmve:"wikimedia.org.ve/wiki/$1",wmza:"wikimedia.org.za/wiki/$1",wm2005:"wikimania2005"+N,wm2006:"wikimania2006"+N,wm2007:"wikimania2007"+N,wm2008:"wikimania2008"+N,wm2009:"wikimania2009"+N,wm2010:"wikimania2010"+N,wm2011:"wikimania2011"+N,wm2012:"wikimania2012"+N,wm2013:"wikimania2013"+N,wm2014:"wikimania2014"+N,wm2015:"wikimania2015"+N,wm2016:"wikimania2016"+N,wm2017:"wikimania2017"+N,wm2018:"wikimania2018"+N,wmania:"wikimania"+N,wikimania:"wikimania"+N,wmteam:"wikimaniateam"+N,wmf:"foundation"+N,wmfblog:"blog.wikimedia.org/$1",wmdeblog:"blog.wikimedia.de/$1",wookieepedia:"starwars.wikia.com/wiki/$1",wowwiki:C+"wowwiki.com/$1",wqy:"wqy.sourceforge.net/cgi-bin/index.cgi?$1",wurmpedia:"wurmpedia.com/index.php/$1",viaf:"viaf.org/viaf/$1",zrhwiki:C+"zrhwiki.ch/wiki/$1",zum:"wiki.zum.de/$1",zwiki:C+"zwiki.org/$1",m:"meta"+N,meta:"meta"+N,sep11:"sep11"+S,d:C+"wikidata.org/wiki/$1",minnan:"zh-min-nan"+S,nb:"no"+S,"zh-cfr":"zh-min-nan"+S,"zh-cn":"zh"+S,"zh-tw":"zh"+S,nan:"zh-min-nan"+S,vro:"fiu-vro"+S,cmn:"zh"+S,lzh:"zh-classical"+S,rup:"roa-rup"+S,gsw:"als"+S,"be-tarask":"be-x-old"+S,sgs:"bat-smg"+S,egl:"eml"+S,w:"en"+S,wikt:"en.wiktionary.org/wiki/$1",q:"en.wikiquote.org/wiki/$1",b:"en.wikibooks.org/wiki/$1",n:"en.wikinews.org/wiki/$1",s:"en.wikisource.org/wiki/$1",chapter:"en"+N,v:"en.wikiversity.org/wiki/$1",voy:"en.wikivoyage.org/wiki/$1"};Object.keys(q).forEach((e=>{L[e]=e+".wikipedia.org/wiki/$1"}));const D=/^(category|catégorie|kategorie|categoría|categoria|categorie|kategoria|تصنيف|image|file|fichier|datei|media):/i,I=/\[(https?|news|ftp|mailto|gopher|irc)(:\/\/[^\]| ]{4,1500})([| ].*?)?\]/g,A=/\[\[(.{0,1600}?)\]\]([a-z]+)?/gi,P=function(e,t){return t.replace(A,(function(t,i,a){let n=null,r=i;if(i.match(/\|/)&&(r=(i=i.replace(/\[\[(.{2,1000}?)\]\](\w{0,10})/g,"$1$2")).replace(/(.{2,1000})\|.{0,2000}/,"$1"),n=i.replace(/.{2,1000}?\|/,""),null===n&&r.match(/\|$/)&&(r=r.replace(/\|$/,""),n=r)),r.match(D))return i;let o={page:r,raw:t};return o.page=o.page.replace(/#(.*)/,((e,t)=>(o.anchor=t,""))),o=function(e){let t=e.page||"";if(-1!==t.indexOf(":")){let i=t.match(/^(.*):(.*)/);if(null===i)return e;let a=i[1]||"";if(a=a.toLowerCase(),-1!==a.indexOf(":")){let[,t,i]=a.match(/^:?(.*):(.*)/);if(!1===L.hasOwnProperty(t)||!1===q.hasOwnProperty(i))return e;e.wiki={wiki:t,lang:i}}else{if(!1===L.hasOwnProperty(a))return e;e.wiki=a}e.page=i[2]}return e}(o),o.wiki&&(o.type="interwiki"),null!==n&&n!==o.page&&(o.text=n),a&&(o.text=o.text||o.page,o.text+=a.trim()),o.page&&!1===/^[A-Z]/.test(o.page)&&(o.text||(o.text=o.page),o.page=o.page),o.text&&o.text.startsWith(":")&&(o.text=o.text.replace(/^:/,"")),e.push(o),i})),e},T=function(e){let t=[];if(t=function(e,t){return t.replace(I,(function(t,i,a,n){return n=n||"",e.push({type:"external",site:i+a,text:n.trim(),raw:t}),n})),e}(t,e),t=P(t,e),0!==t.length)return t},M=new RegExp("^[ \n\t]*?#("+["aanstuur","aastiurey","adkas","ailgyfeirio","alidirekto","alih","aýdaw","baw-ing","beralîkirin","birzuzendu","đổi hướng đến đây","doorverwijzing","header","i̇stiqamətləndirmə","lencong","ohjaa tänne","ohjaus","omdirigering","pāradresācija","patrz","přesměrování","přesměruj","preusmeritev","preusmjerava","preusmjerenje","preusmjeri","przekierowanie","redir","redirecció","redireccion","redirección","redirecionamento","redirect","redirect3","redirection","redirige aquí","redirige","redirixe equí","rindirizz","rinvia","stivre deike","suunamine","tilvísun","trimite","uudelleenohjaus","weiterleitung","weiterleitungshinweis","yoʻnaltirish","yönlendi̇r","yönlendi̇rme","ανακατευθυνση","айдау","багыттама","буссинаби","дӏасахьажорг","от пренасочване","перанакіраванне","перанакіраваньне","перанакіроўваецца сюды","перенаправление","перенаправлення","перенаправлено","пренасочување","преусмерава ","преусмери","преусмјери","равонакунӣ","ווייטערפירן","تحويل","تغییر_مسیر","تغییرمسیر","رجوع مکرر","رجوع_مکرر","अनुप्रेषित","पुनर्निर्देशन","পুননির্দেশ","পুনর্নির্দেশ","යළියොමුව","เปลี่ยนทาง","ប្តូរទីតាំងទៅ","다른 뜻 넘어옴","リダイレクト","跳轉","転送","重定向"].join("|")+") *?(\\[\\[.{2,180}?\\]\\])","i"),R=["table","code","score","data","categorytree","charinsert","hiero","imagemap","inputbox","references","source","syntaxhighlight","timeline","maplink"],F=`< ?(${R.join("|")}) ?[^>]{0,200}?>`,U=`< ?/ ?(${R.join("|")}) ?>`,B=new RegExp(`${F}[\\s\\S]+?${U}`,"gi");function K(e){return e=(e=(e=function(e){return(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(B," ")).replace(/ ?< ?(span|div|table|data) [a-zA-Z0-9=%.\-#:;'" ]{2,100}\/? ?> ?/g," ")).replace(/ ?< ?(ref) [a-zA-Z0-9=" ]{2,100}\/ ?> ?/g," ")).replace(/<i>(.*?)<\/i>/g,"''$1''")).replace(/<b>(.*?)<\/b>/g,"'''$1'''")).replace(/<sub>(.*?)<\/sub>/g,"{{sub|$1}}")).replace(/<sup>(.*?)<\/sup>/g,"{{sup|$1}}")).replace(/<blockquote>(.*?)<\/blockquote>/g,"{{blockquote|text=$1}}")).replace(/ ?<[ /]?(p|sub|sup|span|nowiki|div|table|br|tr|td|th|pre|pre2|hr|u)[ /]?> ?/g," ")).replace(/ ?<[ /]?(abbr|bdi|bdo|cite|del|dfn|em|ins|kbd|mark|q|s|small)[ /]?> ?/g," ")).replace(/ ?<[ /]?h[0-9][ /]?> ?/g," ")).replace(/ ?< ?br ?\/> ?/g,"\n")).trim()}(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<!--[\s\S]{0,2000}?-->/g,"")).replace(/__(NOTOC|NOEDITSECTION|FORCETOC|TOC)__/gi,"")).replace(/~{2,3}/g,"")).replace(/\r/g,"")).replace(/\u3002/g,". ")).replace(/----/g,"")).replace(/\{\{\}\}/g," – ")).replace(/\{\{\\\}\}/g," / ")).replace(/&nbsp;/g," ")).replace(/&ndash;/g,"–"))).replace(/\([,;: ]+\)/g,"")).replace(/\{\{(baseball|basketball) (primary|secondary) (style|color).*?\}\}/i,"")}const W=/[\\.$]/,H=function(e){return"string"!=typeof e&&(e=""),e=(e=(e=e.replace(/\\/g,"\\\\")).replace(/^\$/,"\\u0024")).replace(/\./g,"\\u002e")},Y=function(e={}){let t=Object.keys(e);for(let i=0;i<t.length;i+=1)if(!0===W.test(t[i])){let a=H(t[i]);a!==t[i]&&(e[a]=e[t[i]],delete e[t[i]])}return e},G={headers:!0,depth:!0,paragraphs:!0,images:!0,tables:!0,templates:!0,infoboxes:!0,lists:!0,references:!0},Z={type:"internal"},V=function(e){e=e||{},e=Object.assign({},Z,e),Object.defineProperty(this,"data",{enumerable:!1,value:e})},J={text:function(e){void 0!==e&&(this.data.text=e);let t=this.data.text||this.data.page||"";return t=t.replace(/'{2,}/g,""),t},json:function(){let e={text:this.data.text,type:this.type()};"internal"===e.type?e.page=this.page():"interwiki"===e.type?(e.wiki=this.wiki(),e.page=this.page()):e.site=this.site();let t=this.anchor();return t&&(e.anchor=t),e},wikitext:function(){return this.data.raw||""},page:function(e){return void 0!==e&&(this.data.page=e),this.data.page},anchor:function(e){return void 0!==e&&(this.data.anchor=e),this.data.anchor||""},wiki:function(e){return void 0!==e&&(this.data.wiki=e),this.data.wiki},type:function(e){return void 0!==e&&(this.data.type=e),this.data.type},site:function(e){return void 0!==e&&(this.data.site=e),this.data.site},href:function(){let e=this.type();if("external"===e)return this.site();let t=this.page();t=t.replace(/ /g,"_"),t=encodeURIComponent(t);let i="";if("interwiki"===e){let e=this.wiki();i="https://en.wikipedia.org/wiki/$1",L.hasOwnProperty(e)&&(i="http://"+L[this.wiki()]),i=i.replace(/\$1/g,t)}else i=`./${this.page()}`;return this.anchor()&&(i+="#"+this.anchor()),i}};Object.keys(J).forEach((e=>{V.prototype[e]=J[e]}));const X=/^[0-9,.]+$/,Q={text:!0,links:!0,formatting:!0,numbers:!0},ee=function(e={}){Object.defineProperty(this,"data",{enumerable:!1,value:e})},te={links:function(e){let t=this.data.links||[];if("string"==typeof e){e=e.charAt(0).toUpperCase()+e.substring(1);let i=t.find((t=>t.page===e));return void 0===i?[]:[i]}return t},interwiki:function(){return this.links().filter((e=>void 0!==e.wiki))},bolds:function(){return this.data&&this.data.fmt&&this.data.fmt.bold&&this.data.fmt.bold||[]},italics:function(){return this.data&&this.data.fmt&&this.data.fmt.italic&&this.data.fmt.italic||[]},text:function(e){return void 0!==e&&"string"==typeof e&&(this.data.text=e),this.data.text||""},json:function(e){return function(e,t){t=d(t,Q);let i={},a=e.text();if(!0===t.text&&(i.text=a),!0===t.numbers&&X.test(a)){let e=Number(a.replace(/,/g,""));!1===isNaN(e)&&(i.number=e)}return t.links&&e.links().length>0&&(i.links=e.links().map((e=>e.json()))),t.formatting&&e.data.fmt&&(i.formatting=e.data.fmt),i}(this,e)},wikitext:function(){return this.data.wiki||""},isEmpty:function(){return""===this.data.text}};Object.keys(te).forEach((e=>{ee.prototype[e]=te[e]}));const ie={links:"link",bolds:"bold",italics:"italic"};Object.keys(ie).forEach((e=>{ee.prototype[ie[e]]=function(t){let i=this[e](t);return"number"==typeof t?i[t]:i[0]}})),ee.prototype.plaintext=ee.prototype.text;const ae=["ad","adj","adm","adv","al","alta","approx","apr","apt","arc","ariz","assn","asst","atty","aug","ave","ba","bc","bl","bldg","blvd","brig","bros","ca","cal","calif","capt","cca","cg","cl","cm","cmdr","co","col","colo","comdr","conn","corp","cpl","cres","ct","cyn","dak","dec","def","dept","det","dg","dist","dl","dm","dr","ea","eg","eng","esp","esq","est","etc","ex","exp","feb","fem","fig","fl oz","fl","fla","fm","fr","ft","fy","ga","gal","gb","gen","gov","hg","hon","hr","hrs","hwy","hz","ia","ida","ie","inc","inf","jan","jd","jr","jul","jun","kan","kans","kb","kg","km","kmph","lat","lb","lit","llb","lm","lng","lt","ltd","lx","ma","maj","mar","masc","mb","md","messrs","mg","mi","min","minn","misc","mister","ml","mlle","mm","mme","mph","mps","mr","mrs","ms","mstr","mt","neb","nebr","nee","no","nov","oct","okla","ont","op","ord","oz","pa","pd","penn","penna","phd","pl","pp","pref","prob","prof","pron","ps","psa","pseud","pt","pvt","qt","que","rb","rd","rep","reps","res","rev","sask","sec","sen","sens","sep","sept","sfc","sgt","sir","situ","sq ft","sq","sr","ss","st","supt","surg","tb","tbl","tbsp","tce","td","tel","temp","tenn","tex","tsp","univ","usafa","ut","va","vb","ver","vet","vitro","vivo","vol","vs","vt","wis","wisc","wr","wy","wyo","yb","µg"].concat("[^]][^]]"),ne=new RegExp("(^| |')("+ae.join("|")+")[.!?] ?$","i"),re=/[ .'][A-Z].? *$/i,oe=/\.{3,} +$/,se=/ c\.\s$/,le=/\p{Letter}/iu;function ce(e){let t={wiki:e,text:e};return function(e){let t=e.text,i=T(t)||[];e.links=i.map((e=>(t=t.replace(e.raw,e.text||e.page||""),new V(e)))),t=t.replace(/\[\[File:(.{2,80}?)\|([^\]]+)\]\](\w{0,5})/g,"$1"),e.text=t}(t),t.text=r(t.text.replace(/\([,;: ]*\)/g,"").replace(/\( *(; ?)+/g,"(")).replace(/ +\.$/,"."),t=function(e){let t=[],i=[],a=e.text||"";return a=a.replace(/'''''(.{0,2500}?)'''''/g,((e,a)=>(t.push(a),i.push(a),a))),a=a.replace(/''''(.{0,2500}?)''''/g,((e,i)=>(t.push(`'${i}'`),`'${i}'`))),a=a.replace(/'''(.{0,2500}?)'''/g,((e,i)=>(t.push(i),i))),a=a.replace(/''(.{0,2500}?)''/g,((e,t)=>(i.push(t),t))),e.text=a,t.length>0&&(e.fmt=e.fmt||{},e.fmt.bold=t),i.length>0&&(e.fmt=e.fmt||{},e.fmt.italic=i),e}(t),new ee(t)}const ue=function(e){let t=function(e){let t=[],i=[];if(!e||"string"!=typeof e||0===e.trim().length)return t;let a=function(e){let t=e.split(/(\n+)/);return t=t.filter((e=>e.match(/\S/))),t=t.map((function(e){return e.split(/(\S.+?[.!?]"?)(?=\s|$)/g)})),function(e){let t=[];return e.forEach((function(e){t=t.concat(e)})),t}(t)}(e);for(let e=0;e<a.length;e++){let t=a[e];if(t&&""!==t){if(!t.match(/\S/)){if(i[i.length-1]){i[i.length-1]+=t;continue}if(a[e+1]){a[e+1]=t+a[e+1];continue}}i.push(t)}}for(let e=0;e<i.length;e++)i[e+1]&&((n=i[e]).match(ne)||n.match(re)||n.match(oe)||n.match(se)||!1===le.test(n)||!function(e){const t=(e=e||"").split(/\[\[/)||[],i=e.split(/\]\]/)||[];if(t.length>i.length)return!1;const a=e.match(/"/g);if(a&&a.length%2!=0&&e.length<900)return!1;const n=e.match(/[()]/g);return!(n&&n.length%2!=0&&e.length<900)}(n))?/^\s/.test(i[e+1])||/\s$/.test(i[e])?i[e+1]=i[e]+i[e+1]:i[e+1]=i[e]+" "+i[e+1]:i[e]&&i[e].length>0&&(t.push(i[e]),i[e]="");var n;return 0===t.length?[e]:t}(e.wiki);t=t.map(ce),t[0]&&t[0].text()&&":"===t[0].text()[0]&&(t=t.slice(1)),e.sentences=t},me=/.*rowspan *= *["']?([0-9]+)["']?[ |]*/,de=/.*colspan *= *["']?([0-9]+)["']?[ |]*/,pe=function(e){return e=function(e){return e.forEach(((t,i)=>{t.forEach(((a,n)=>{let r=a.match(me);if(null!==r){let o=parseInt(r[1],10);a=a.replace(me,""),t[n]=a;for(let t=i+1;t<i+o&&e[t];t+=1)e[t].splice(n,0,a)}}))})),e}(e=function(e){return e.forEach((e=>{e.forEach(((t,i)=>{let a=t.match(de);if(null!==a){let n=parseInt(a[1],10);e[i]=t.replace(de,"");for(let t=1;t<n;t+=1)e.splice(i+1,0,"")}}))})),e.filter((e=>e.length>0))}(e))},he=/^!/,ge={name:!0,age:!0,born:!0,date:!0,year:!0,city:!0,country:!0,population:!0,count:!0,number:!0},be=function(e){return(e=ce(e).text()).match(/\|/)&&(e=e.replace(/.*?\| ?/,"")),e=(e=(e=e.replace(/style=['"].*?["']/,"")).replace(/^!/,"")).trim()},fe=function(e){if(e.length<=3)return[];let t=e[0].slice(0);t=t.map((e=>(e=ce(e=e.replace(/^! */,"")).text(),e=(e=be(e)).toLowerCase())));for(let i=0;i<t.length;i+=1)if(ge.hasOwnProperty(t[i]))return e.shift(),t;return[]},ke=function(e){let t=function(e){let t=[],i=[];e=function(e){return e=e.filter((e=>e&&!0!==/^\|\+/.test(e))),!0===/^\{\|/.test(e[0])&&e.shift(),!0===/^\|\}/.test(e[e.length-1])&&e.pop(),!0===/^\|-/.test(e[0])&&e.shift(),e}(e);for(let a=0;a<e.length;a+=1){let n=e[a];if(!0===/^\|-/.test(n))i.length>0&&(t.push(i),i=[]);else{let e=n.charAt(0);"|"!==e&&"!"!==e||(n=n.substring(1)),n=n.split(/(?:\|\||!!)/),"!"===e&&(n[0]=e+n[0]),n.forEach((e=>{e=e.trim(),i.push(e)}))}}return i.length>0&&t.push(i),t}(e.replace(/\r/g,"").replace(/\n(\s*[^|!{\s])/g," $1").split(/\n/).map((e=>e.trim())));if(t=t.filter((e=>e)),0===t.length)return[];t=function(e){return e.filter((e=>1!==e.length||!e[0]||!he.test(e[0])||!1!==/rowspan/i.test(e[0])))}(t),t=pe(t);let i=function(e=[]){let t=[];var i;(i=(i=e[0])||[]).length-i.filter((e=>e)).length>3&&e.shift();let a=e[0];return a&&a[0]&&a[1]&&(/^!/.test(a[0])||/^!/.test(a[1]))&&(t=a.map((e=>(e=e.replace(/^! */,""),be(e)))),e.shift()),a=e[0],a&&a[0]&&a[1]&&/^!/.test(a[0])&&/^!/.test(a[1])&&(a.forEach(((e,i)=>{e=e.replace(/^! */,""),e=be(e),!0===Boolean(e)&&(t[i]=e)})),e.shift()),t}(t);if(!i||i.length<=1){i=fe(t);let e=t[t.length-1]||[];i.length<=1&&e.length>2&&(i=fe(t.slice(1)),i.length>0&&(t=t.slice(2)))}let a=t.map((e=>function(e,t){let i={};return e.forEach(((e,a)=>{let n=t[a]||"col"+(a+1),r=ce(e);r.text(be(r.text())),i[n]=r})),i}(e,i)));return a},we={},ye=function(e=""){return e=(e=(e=(e=e.toLowerCase()).replace(/[_-]/g," ")).replace(/\(.*?\)/,"")).trim()},$e=function(e,t=""){Object.defineProperty(this,"data",{enumerable:!1,value:e}),Object.defineProperty(this,"_wiki",{enumerable:!1,value:t})},xe={links(e){let t=[];if(this.data.forEach((e=>{Object.keys(e).forEach((i=>{t=t.concat(e[i].links())}))})),"string"==typeof e){e=e.charAt(0).toUpperCase()+e.substring(1);let i=t.find((t=>t.page()===e));return void 0===i?[]:[i]}return t},get(e){let t=this.data[0]||{},i=Object.keys(t).reduce(((e,t)=>(e[ye(t)]=t,e)),{});if("string"==typeof e){let t=ye(e);return t=i[t]||t,this.data.map((e=>e[t]?e[t].text():null))}return e=e.map(ye).map((e=>i[e]||e)),this.data.map((t=>e.reduce(((e,i)=>(t[i]?e[i]=t[i].text():e[i]="",e)),{})))},keyValue(e){let t=this.json(e);return t.forEach((e=>{Object.keys(e).forEach((t=>{e[t]=e[t].text}))})),t},json(e){return e=d(e,we),function(e,t){return e.map((e=>{let i={};return Object.keys(e).forEach((t=>{i[t]=e[t].json()})),!0===t.encode&&(i=Y(i)),i}))}(this.data,e)},text:()=>"",wikitext(){return this._wiki||""}};xe.keyvalue=xe.keyValue,xe.keyval=xe.keyValue,Object.keys(xe).forEach((e=>{$e.prototype[e]=xe[e]}));const ve=/^\s*\{\|/,je=/^\s*\|\}/,_e={sentences:!0},ze={sentences:!0,lists:!0,images:!0},Oe=function(e){Object.defineProperty(this,"data",{enumerable:!1,value:e})},Ee={sentences:function(){return this.data.sentences||[]},references:function(){return this.data.references},lists:function(){return this.data.lists},images(){return this.data.images||[]},links:function(e){let t=[];if(this.sentences().forEach((i=>{t=t.concat(i.links(e))})),"string"==typeof e){e=e.charAt(0).toUpperCase()+e.substring(1);let i=t.find((t=>t.page()===e));return void 0===i?[]:[i]}return t||[]},interwiki(){let e=[];return this.sentences().forEach((t=>{e=e.concat(t.interwiki())})),e||[]},text:function(e){e=d(e,ze);let t=this.sentences().map((t=>t.text(e))).join(" ");return this.lists().forEach((e=>{t+="\n"+e.text()})),t},json:function(e){return function(e,t){let i={};return!0===(t=d(t,_e)).sentences&&(i.sentences=e.sentences().map((e=>e.json(t)))),i}(this,e=d(e,ze))},wikitext:function(){return this.data.wiki}};Ee.citations=Ee.references,Object.keys(Ee).forEach((e=>{Oe.prototype[e]=Ee[e]}));const qe={sentences:"sentence",references:"reference",citations:"citation",lists:"list",images:"image",links:"link"};Object.keys(qe).forEach((e=>{Oe.prototype[qe[e]]=function(t){let i=this[e](t);return"number"==typeof t?i[t]:i[0]}}));const Se=function(e){return e=(e=e.replace(/^\{\{/,"")).replace(/\}\}$/,"")},Ne=function(e){return e=(e=(e=(e||"").trim()).toLowerCase()).replace(/_/g," ")},Ce=/^[\p{Letter}0-9._/\- '()\t]+=/iu,Le={template:!0,list:!0,prototype:!0},De=function(e,t){let i=0;return e.reduce(((e,a="")=>{if(a=a.trim(),!0===Ce.test(a)){let t=function(e){let t=e.split("="),i=t[0]||"";i=i.toLowerCase().trim();let a=t.slice(1).join("=");return Le.hasOwnProperty(i)&&(i="_"+i),{key:i,val:a.trim()}}(a);if(t.key)return e[t.key]&&!t.val||(e[t.key]=t.val),e}if(t&&t[i]){e[t[i]]=a}else e.list=e.list||[],e.list.push(a);return i+=1,e}),{})},Ie={classname:!0,style:!0,align:!0,margin:!0,left:!0,break:!0,boxsize:!0,framestyle:!0,item_style:!0,collapsible:!0,list_style_type:!0,"list-style-type":!0,colwidth:!0},Ae=function(e,t){let i=ce(e);return"json"===t?i.json():"raw"===t?i:i.text()},Pe=function(e,t=[],i){let a=function(e){let t=e.split(/\n?\|/);t.forEach(((e,i)=>{null!==e&&(/\[\[[^\]]+$/.test(e)||/\{\{[^}]+$/.test(e)||e.split("{{").length!==e.split("}}").length||e.split("[[").length!==e.split("]]").length)&&(t[i+1]=t[i]+"|"+t[i+1],t[i]=null)})),t=t.filter((e=>null!==e)),t=t.map((e=>(e||"").trim()));for(let e=t.length-1;e>=0;e-=1){""===t[e]&&t.pop();break}return t}(e=Se(e||"")),n=a.shift(),r=De(a,t);return r=function(e){return Object.keys(e).forEach((t=>{!0===Ie[t.toLowerCase()]&&delete e[t],null!==e[t]&&""!==e[t]||delete e[t]})),e}(r),r[1]&&t[0]&&!1===r.hasOwnProperty(t[0])&&(r[t[0]]=r[1],delete r[1]),Object.keys(r).forEach((e=>{r[e]="list"!==e?Ae(r[e],i):r[e].map((e=>Ae(e,i)))})),n&&(r.template=Ne(n)),r};const Te=new RegExp("("+b.join("|")+"):","i");let Me=`(${b.join("|")})`;const Re=new RegExp(Me+":(.+?)[\\||\\]]","iu"),Fe=/^\[\[:/,Ue={thumb:!0,thumbnail:!0,border:!0,right:!0,left:!0,center:!0,top:!0,bottom:!0,none:!0,upright:!0,baseline:!0,middle:!0,sub:!0,super:!0},Be=function(e,t){let i=e.wiki,a=function(e){let t=[],i=[];const a=e.split("");let n=0;for(let r=0;r<a.length;r++){const a=e[r];if("["===a)n+=1;else if("]"===a)n-=1,n<0&&(n=0);else if(0===i.length)continue;if(i.push(a),0===n&&i.length>0){let e=0,a=0;for(let t=0;t<i.length;t++)"["===i[t]?e++:"]"===i[t]&&a++;e>a&&i.push("]"),t.push(i.join("")),i=[]}}return t}(i);a.forEach((function(a){if(!0===Te.test(a)){e.images=e.images||[];let n=function(e,t){let i=e.match(Re);if(null===i||!i[2])return null;if(Fe.test(e))return null;let a=`${i[1]}:${i[2]||""}`;if(a){let i={file:a,lang:t._lang,domain:t._domain,wiki:e,pluginData:{}};e=(e=e.replace(/^\[\[/,"")).replace(/\]\]$/,"");let n=Pe(e),r=n.list||[];return n.alt&&(i.alt=n.alt),r=r.filter((e=>!1===Ue.hasOwnProperty(e))),r[r.length-1]&&(i.caption=ce(r[r.length-1])),new O(i)}return null}(a,t);n&&(e.images.push(n),i=i.replace(a,""))}})),e.wiki=i},Ke={},We=function(e,t=""){Object.defineProperty(this,"data",{enumerable:!1,value:e}),Object.defineProperty(this,"wiki",{enumerable:!1,value:t})},He={lines(){return this.data},links(e){let t=[];if(this.lines().forEach((e=>{t=t.concat(e.links())})),"string"==typeof e){e=e.charAt(0).toUpperCase()+e.substring(1);let i=t.find((t=>t.page()===e));return void 0===i?[]:[i]}return t},json(e){return e=d(e,Ke),this.lines().map((t=>t.json(e)))},text(){return((e,t)=>e.map((e=>" * "+e.text(t))).join("\n"))(this.data)},wikitext(){return this.wiki||""}};Object.keys(He).forEach((e=>{We.prototype[e]=He[e]}));const Ye=/^[#*:;|]+/,Ge=/^\*+[^:,|]{4}/,Ze=/^ ?#[^:,|]{4}/,Ve=/[\p{Letter}_0-9\]}]/iu,Je=function(e){return Ye.test(e)||Ge.test(e)||Ze.test(e)},Xe=function(e,t){let i=[];for(let a=t;a<e.length&&Je(e[a]);a++)i.push(e[a]);return i=i.filter((e=>e&&Ve.test(e))),i=function(e){let t=1;e=e.filter((e=>e));for(let i=0;i<e.length;i++){let a=e[i];a.match(Ze)?(a=a.replace(/^ ?#*/,t+") "),a+="\n",t+=1):a.match(Ye)&&(t=1,a=a.replace(Ye,"")),e[i]=ce(a)}return e}(i),i},Qe=/\r?\n\r?\n/,et=function(e,t){let i=e._wiki,a=i.split(Qe);a=a.filter((e=>e&&e.trim().length>0)),a=a.map((e=>{let i={wiki:e,lists:[],sentences:[],images:[]};return function(e){let t=e.wiki,i=t.split(/\n/g),a=[],n=[];for(let e=0;e<i.length;e++)if(Je(i[e])){let t=Xe(i,e);t.length>0&&(a.push(t),e+=t.length-1)}else n.push(i[e]);e.lists=a.map((e=>new We(e,t))),e.wiki=n.join("\n")}(i),Be(i,t),ue(i),new Oe(i)})),e._wiki=i,e._paragraphs=a},tt="{",it=function(e){let t=0,i=[],a=[];for(let n=e.indexOf(tt);-1!==n&&n<e.length;t>0?n++:n=e.indexOf(tt,n+1)){let r=e[n];if(r===tt&&(t+=1),t>0){if("}"===r&&(t-=1,0===t)){a.push(r);let e=a.join("");a=[],/\{\{/.test(e)&&/\}\}/.test(e)&&i.push(e);continue}if(1===t&&r!==tt&&"}"!==r){t=0,a=[];continue}a.push(r)}}return i},at=function(e){let t=null;return t=/^\{\{[^\n]+\|/.test(e)?(e.match(/^\{\{(.+?)\|/)||[])[1]:-1!==e.indexOf("\n")?(e.match(/^\{\{(.+)\n/)||[])[1]:(e.match(/^\{\{(.+?)\}\}$/)||[])[1],t&&(t=t.replace(/:.*/,""),t=Ne(t)),t||null},nt=/\{\{/,rt=function(e){return{body:e,name:at(e),children:[]}},ot=function(e){let t=e.body.substr(2);return t=t.replace(/\}\}$/,""),e.children=it(t),e.children=e.children.map(rt),0===e.children.length||e.children.forEach((e=>{let t=e.body.substr(2);return nt.test(t)?ot(e):null})),e},st=function(e){let t=it(e);return t=t.map(rt),t=t.map(ot),t},lt=["anchor","defaultsort","use list-defined references","void","pp","pp-move-indef","pp-semi-indef","pp-vandalism","r","#tag","div col","pope list end","shipwreck list end","starbox end","end box","end","s-end"].reduce(((e,t)=>(e[t]=!0,e)),{});var ct={"gnf protein box":!0,"automatic taxobox":!0,"chembox ":!0,editnotice:!0,geobox:!0,hybridbox:!0,ichnobox:!0,infraspeciesbox:!0,mycomorphbox:!0,oobox:!0,"paraphyletic group":!0,speciesbox:!0,subspeciesbox:!0,"starbox short":!0,taxobox:!0,nhlteamseason:!0,"asian games bid":!0,"canadian federal election results":!0,"dc thomson comic strip":!0,"daytona 24 races":!0,edencharacter:!0,"moldova national football team results":!0,samurai:!0,protein:!0,"sheet authority":!0,"order-of-approx":!0,"bacterial labs":!0,"medical resources":!0,ordination:!0,"hockey team coach":!0,"hockey team gm":!0,"pro hockey team":!0,"hockey team player":!0,"hockey team start":!0,mlbbioret:!0};const ut=new RegExp("^(subst.)?("+f.join("|")+")(?=:| |\n|$)","i");f.forEach((e=>{ct[e]=!0}));const mt=/^infobox /i,dt=/ infobox$/i,pt=/^year in [A-Z]/i,ht=function(e={}){let t=e.template.match(ut),i=e.template;t&&t[0]&&(i=i.replace(t[0],"")),i=i.trim();let a={template:"infobox",type:i,data:e};return delete a.data.template,delete a.data.list,a};let gt={imdb:"imdb name","imdb episodes":"imdb episode",localday:"currentday",localdayname:"currentdayname",localyear:"currentyear","birth date based on age at death":"birth based on age as of date","bare anchored list":"anchored list",cvt:"convert",cricon:"flagicon",sfrac:"frac",sqrt:"radic","unreferenced section":"unreferenced",redir:"redirect",sisterlinks:"sister project links","main article":"main",by:"baseball year",aldsy:"alds year",nldsy:"nlds year","str rep":"replace",ushr2:"ushr",stn:"station",metrod:"metro",fw:"ferry",rws:"stnlnk",sclass2:"sclass",under:"underline",brackets:"bracket",raise:"lower","born-in":"born in","c.":"circa","r.":"reign"},bt={date:["byline","dateline"],citation:["cite","source","source-pr","source-science"],"no spam":["email","@","no spam blue"],"lrt station":["lrt","lrts"],"mrt station":["mrt","mrts"],flagcountry:["cr","cr-rt"],trunc:["str left","str crop"],percentage:["pct","percentage"],rnd:["rndfrac","rndnear"],abbr:["tooltip","abbrv","define"],sfn:["sfnref","harvid","harvnb"],"birth date and age":["death date and age","bda","b-da"],currentmonth:["localmonth","currentmonthname","currentmonthabbrev"],currency:["monnaie","unité","nombre","nb","iso4217"],coord:["coor","coor title dms","coor title dec","coor dms","coor dm","coor dec"],"columns-list":["cmn","col-list","columnslist","collist"],nihongo:["nihongo2","nihongo3","nihongo-s","nihongo foot"],plainlist:["flatlist","plain list"],"winning percentage":["winpct","winperc"],"collapsible list":["nblist","nonbulleted list","ubl","ublist","ubt","unbullet","unbulleted list","unbulleted","unbulletedlist","vunblist"],"election box begin":["election box begin no change","election box begin no party","election box begin no party no change","election box inline begin","election box inline begin no change"],"election box candidate":["election box candidate for alliance","election box candidate minor party","election box candidate no party link no change","election box candidate with party link","election box candidate with party link coalition 1918","election box candidate with party link no change","election box inline candidate","election box inline candidate no change","election box inline candidate with party link","election box inline candidate with party link no change","election box inline incumbent"],"4teambracket":["2teambracket","4team2elimbracket","8teambracket","16teambracket","32teambracket","4roundbracket-byes","cwsbracket","nhlbracket","nhlbracket-reseed","4teambracket-nhl","4teambracket-ncaa","4teambracket-mma","4teambracket-mlb","16teambracket-two-reseeds","8teambracket-nhl","8teambracket-mlb","8teambracket-ncaa","8teambracket-afc","8teambracket-afl","8teambracket-tennis3","8teambracket-tennis5","16teambracket-nhl","16teambracket-nhl divisional","16teambracket-nhl-reseed","16teambracket-nba","16teambracket-swtc","16teambracket-afc","16teambracket-tennis3","16teambracket-tennis5"],start:["end","birth","death","start date","end date","birth date","birthdate","death date","start date and age","end date and age","dob"],"start-date":["end-date","birth-date","death-date","birth-date and age","birth-date and given age","death-date and age","death-date and given age"],tl:["lts","t","tfd links","tiw","tltt","tetl","tsetl","ti","tic","tiw","tlt","ttl","twlh","tl2","tlu","demo","xpd","para","elc","xtag","mli","mlix","url"],done:["resolved mark large","implemented","pimplemented","resolved mark","accepted","agree","approved","checked2","verified","conditional yes","confirmed","confirmed-nc","tallyho","tick","helped","doneu|example","edited2","donetask","unprod","autp","responded","sure","merge done","marked","pass","aye","yes check","y&","yeac","yeag"],xmark:["expired","deleted","not done","not done empty request","not done unclear","not done not likely","stale-small","smallrejected","x mark","nay","no mark","not done-t","fail","n&","x mark-n","xed box","cancelled","deleted-image","already declined","opblocked","user-blocked","notabug","notfixed","won't fix","withdraw","nojoy","unrelated","off-topic talk","nayc","nayg"],checked:["already done","resolved1","check mark-n","checked box"],"station link":["amtk","cta","bts","mnrr","mtams","munis","njts","scax","wmata","rwsa"],"video game release":["vgrelease","video game release hlist","vgrtbl","vgrelease hlist","vgrh"],aka:["a.k.a.","also known as"],"literal translation":["lit","literal","literally"],"citation needed":["are you sure?","cb","ciation needed","cit","cita requerida","citaiton needed","citation missing","citation need","citation requested","citation required","citation-needed","citationeeded","citationneeded","citationrequired","citazione necessaria","cite missing","cite needed","cite source","cite-needed","citeneeded","citesource","citn","cn needed","cn","ctn","fact?","fact","facts","fcitation needed","me-fact","need citation","need sources","need-ref","needcitation","needcite","needs citation","needs citations","needs reference","needs source","needs-cite","needsref","no source given","prov-statement","prove it","proveit","ref needed","ref-needed","ref?","reference necessary","reference needed","reference required","refnec","refneeded","refplease","request citation","source needed","source?","sourceme","uncited","unreferenced inline","unsourced-inline"]};Object.keys(q).forEach((e=>{gt["ipa-"+e]="ipa",gt["ipac-"+e]="ipac"})),Object.keys(bt).forEach((e=>{bt[e].forEach((t=>{gt[t]=e}))}));var ft={"·":"·",dot:"·",middot:"·","•":" • ",",":",","=":"=","1/2":"1⁄2","1/3":"1⁄3","2/3":"2⁄3","1/4":"1⁄4","3/4":"3⁄4","–":"–",ndash:"–","en dash":"–","spaced ndash":" – ","—":"—",mdash:"—",spd:" – ","em dash":"—","number sign":"#","hash-tag":"#",ibeam:"I","&":"&",";":";",ampersand:"&",dagger:"†","double-dagger":"‡",snds:" – ",snd:" – ","^":" ","!":"|","'":"'","\\":" /","`":"`","[":"[","*":"*",asterisk:"*","long dash":"———",clear:"\n\n","h.":"ḥ",profit:"▲",loss:"▼",gain:"▲",ell:"ℓ","1~":"~","2~":"~~","3~":"~~~","4~":"~~~~","5~":"~~~~~",goldmedal:"🥇",silvermedal:"🥈",bronzemedal:"🥉",done:"✅",xmark:"❌",checked:"✔️","thumbs up":"👍","thumbs down":"👎",minusplus:"∓",plusminus:"±",egiptekas:"{|-\n"};let kt={p1:0,p2:1,p3:2,resize:1,lang:1,"rtl-lang":1,"line-height":1,l:2,h:1,sort:1};["defn","lino","finedetail","nobold","noitalic","nocaps","vanchor","rnd","date","taste","monthname","baseball secondary style","nowrap","nobr","big","cquote","pull quote","smaller","midsize","larger","big","kbd","bigger","large","mono","strongbad","stronggood","huge","xt","xt2","!xt","xtn","xtd","dc","dcr","mxt","!mxt","mxtn","mxtd","bxt","!bxt","bxtn","bxtd","delink","pre","var","mvar","pre2","code","char","angle bracket","angbr","symb","dabsearch","key press","nowiki","nowiki2","unstrip","unstripnowiki","plain text","make code","killmarkers","longitem","longlink","strikethrough","underline","uuline","not a typo","text","var serif","double underline","nee","ne","left","right","center","centered","justify","smalldiv","bold div","monodiv","italic div","bigdiv","strikethroughdiv","strikethrough color","pbpe","video game release/abbr","nobel abbr","gloss","gcl"].forEach((e=>{kt[e]=0}));let wt={};["mv","m/v","gts","hsc","ms","m/s","my","m/y","ps","rms","rv","r/v","sb","ss","s/s","sv","s/v","sy","s/y","tss","ans","hmas","hmbs","bns","hmcs","ccgs","arc","hdms","bae","ens","eml","rfns","fns","hs","sms","smu","gs","icgv","ins","kri","lé","jsub","jds","js","hnlms","hmnzs","nns","hnoms","hmpngs","bap","rps","brp","orp","nrp","nms","rss","sas","hmsas","roks","hswms","htms","tcg","hms","hmt","rfaux","usat","uscgc","usns","usrc","uss","usav"].forEach((e=>{wt[e]=t=>{let{name:i,id:a}=Pe(t,["name","id"]);return a?`[[${e.toUpperCase()} ${i} (${a})]]`:`[[${e.toUpperCase()} ${i}]]`}}));const yt=function(e){if(!e.numerator&&!e.denominator)return null;let t=Number(e.numerator)/Number(e.denominator);return t*=100,Number(e.decimals),parseInt(t,10)},$t=function(e=""){if("number"==typeof e)return e;e=(e=e.replace(/,/g,"")).replace(/−/g,"-");let t=Number(e);return isNaN(t)?e:t},xt=function(e){let t=e.match(/ipac?-(.+)/);return null!==t?!0===q.hasOwnProperty(t[1])?q[t[1]].english_title:t[1]:null},vt=e=>e.charAt(0).toUpperCase()+e.substring(1),jt=function(e){let t=e%10,i=e%100;return 1===t&&11!==i?e+"st":2===t&&12!==i?e+"nd":3===t&&13!==i?e+"rd":e+"th"},_t={wikt:"wiktionary",commons:"commons",c:"commons",commonscat:"commonscat",n:"wikinews",q:"wikiquote",s:"wikisource",a:"wikiauthor",b:"wikibooks",voy:"wikivoyage",v:"wikiversity",d:"wikidata",species:"wikispecies",m:"meta",mw:"mediawiki"};var zt={ra:e=>{let t=Pe(e,["hours","minutes","seconds"]);return[t.hours||0,t.minutes||0,t.seconds||0].join(":")},deg2hms:e=>(Pe(e,["degrees"]).degrees||"")+"°",hms2deg:e=>{let t=Pe(e,["hours","minutes","seconds"]);return[t.hours||0,t.minutes||0,t.seconds||0].join(":")},decdeg:e=>{let t=Pe(e,["deg","min","sec","hem","rnd"]);return(t.deg||t.degrees)+"°"},sortname:e=>{let t=Pe(e,["first","last","target","sort"]),i=`${t.first||""} ${t.last||""}`;return i=i.trim(),t.nolink?t.target||i:(t.dab&&(i+=` (${t.dab})`,t.target&&(t.target+=` (${t.dab})`)),t.target?`[[${t.target}|${i}]]`:`[[${i}]]`)},"first word":e=>{let t=Pe(e,["text"]),i=t.text||"";return t.sep?i.split(t.sep)[0]:i.split(" ")[0]},trunc:e=>{let t=Pe(e,["str","len"]);return(t.str||"").substr(0,t.len)},"str mid":e=>{let t=Pe(e,["str","start","end"])||{},i=parseInt(t.start,10)-1,a=parseInt(t.end,10);return(t.str||"").substr(i,a)},reign:e=>{let t=Pe(e,["start","end"]);return`(r. ${t.start} – ${t.end})`},"decade link":e=>{let{year:t}=Pe(e,["year"]);return`${t}|${t}s`},decade:e=>{let t=Pe(e,["year"]),i=Number(t.year);return i=10*Math.floor(i/10),`${i}s`},century:e=>{let t=Pe(e,["year"]),i=parseInt(t.year,10);return i=Math.floor(i/100)+1,`${i}`},radic:e=>{let t=Pe(e,["after","before"]);return`${t.before||""}√${t.after||""}`},"medical cases chart/row":e=>e,oldstyledate:e=>{let t=Pe(e,["date","year"]);return t.year?t.date+" "+t.year:t.date},braces:e=>{let t=Pe(e,["text"]),i="";return t.list&&(i="|"+t.list.join("|")),"{{"+(t.text||"")+i+"}}"},hlist:e=>{let t=Pe(e);return t.list=t.list||[],t.list.join(" · ")},pagelist:e=>(Pe(e).list||[]).join(", "),interlinear:e=>(Pe(e).list||[]).join("\n\n"),catlist:e=>(Pe(e).list||[]).join(", "),"br separated entries":e=>(Pe(e).list||[]).join("\n\n"),"comma separated entries":e=>(Pe(e).list||[]).join(", "),"anchored list":e=>{let t=Pe(e).list||[];return t=t.map(((e,t)=>`${t+1}. ${e}`)),t.join("\n\n")},"bulleted list":e=>{let t=Pe(e).list||[];return t=t.filter((e=>e)),t=t.map((e=>"• "+e)),t.join("\n\n")},plainlist:e=>{let t=(e=Se(e)).split("|").slice(1);return t=t.join("|").split(/\n ?\* ?/),t=t.filter((e=>e)),t.join("\n\n")},term:e=>`${Pe(e,["term"]).term}:`,linum:e=>{let{num:t,text:i}=Pe(e,["num","text"]);return`${t}. ${i}`},"block indent":e=>{let t=Pe(e);return t[1]?"\n"+t[1]+"\n":""},lbs:e=>{let t=Pe(e,["text"]);return`[[${t.text} Lifeboat Station|${t.text}]]`},lbc:e=>{let t=Pe(e,["text"]);return`[[${t.text}-class lifeboat|${t.text}-class]]`},lbb:e=>{let t=Pe(e,["text"]);return`[[${t.text}-class lifeboat|${t.text}]]`},"#dateformat":e=>(e=e.replace(/:/,"|"),Pe(e,["date","format"]).date),lc:e=>(e=e.replace(/:/,"|"),(Pe(e,["text"]).text||"").toLowerCase()),uc:e=>(e=e.replace(/:/,"|"),(Pe(e,["text"]).text||"").toUpperCase()),lcfirst:e=>{e=e.replace(/:/,"|");let t=Pe(e,["text"]).text;return t?t[0].toLowerCase()+t.substr(1):""},ucfirst:e=>{e=e.replace(/:/,"|");let t=Pe(e,["text"]).text;return t?t[0].toUpperCase()+t.substr(1):""},padleft:e=>{e=e.replace(/:/,"|");let t=Pe(e,["text","num"]);return(t.text||"").padStart(t.num,t.str||"0")},padright:e=>{e=e.replace(/:/,"|");let t=Pe(e,["text","num"]);return(t.text||"").padEnd(t.num,t.str||"0")},abbrlink:e=>{let t=Pe(e,["abbr","page"]);return t.page?`[[${t.page}|${t.abbr}]]`:`[[${t.abbr}]]`},own:e=>{let t=Pe(e,["author"]),i="Own work";return t.author&&(i+=" by "+t.author),i},formatnum:e=>{e=e.replace(/:/,"|");let t=Pe(e,["number"]).number||"";return t=t.replace(/,/g,""),Number(t).toLocaleString()||""},frac:e=>{let t=Pe(e,["a","b","c"]);return t.c?`${t.a} ${t.b}/${t.c}`:t.b?`${t.a}/${t.b}`:`1/${t.b}`},convert:e=>{let t=Pe(e,["num","two","three","four"]);return"-"===t.two||"to"===t.two||"and"===t.two?t.four?`${t.num} ${t.two} ${t.three} ${t.four}`:`${t.num} ${t.two} ${t.three}`:`${t.num} ${t.two}`},tl:e=>{let t=Pe(e,["first","second"]);return t.second||t.first},won:e=>{let t=Pe(e,["text"]);return t.place||t.text||vt(t.template)},tag:e=>{let t=Pe(e,["tag","open"]);const i={span:!0,div:!0,p:!0};return t.open&&"pair"!==t.open?"":i[t.tag]?t.content||"":`<${t.tag} ${t.attribs||""}>${t.content||""}</${t.tag}>`},plural:e=>{e=e.replace(/plural:/,"plural|");let t=Pe(e,["num","word"]),i=Number(t.num),a=t.word;return 1!==i&&(/.y$/.test(a)?a=a.replace(/y$/,"ies"):a+="s"),i+" "+a},dec:e=>{let t=Pe(e,["degrees","minutes","seconds"]),i=(t.degrees||0)+"°";return t.minutes&&(i+=t.minutes+"′"),t.seconds&&(i+=t.seconds+"″"),i},val:e=>{let t=Pe(e,["number","uncertainty"]),i=t.number;i&&Number(i)&&(i=Number(i).toLocaleString());let a=i||"";return t.p&&(a=t.p+a),t.s&&(a=t.s+a),(t.u||t.ul||t.upl)&&(a=a+" "+(t.u||t.ul||t.upl)),a},percentage:e=>{let t=Pe(e,["numerator","denominator","decimals"]),i=yt(t);return null===i?"":i+"%"},small:e=>{let t=Pe(e);return t.list&&t.list[0]?t.list[0]:""},"percent-done":e=>{let t=Pe(e,["done","total","digits"]),i=yt({numerator:t.done,denominator:t.total,decimals:t.digits});return null===i?"":`${t.done} (${i}%) done`},loop:e=>{let t=Pe(e,["times","text"]),i=Number(t.times)||0,a="";for(let e=0;e<i;e+=1)a+=t.text||"";return a},"str len":e=>{let t=Pe(e,["text"]);return String((t.text||"").trim().length)},digits:e=>(Pe(e,["text"]).text||"").replace(/[^0-9]/g,""),resize:e=>{let{n:t,text:i}=Pe(e,["n","text"]);return i?i||"":t||""},"last word":e=>{let t=(Pe(e,["text"]).text||"").split(/ /g);return t[t.length-1]||""},replace:e=>{let t=Pe(e,["text","from","to"]);return t.from&&t.to?(t.text||"").replace(t.from,t.to):t.text||""},"title case":e=>(Pe(e,["text"]).text||"").split(/ /).map(((e,t)=>t>0&&"the"===e||"of"===e?e:vt(e))).join(" "),"no spam":e=>{let t=Pe(e,["account","domain"]);return`${t.account||""}@${t.domain}`},"baseball year":e=>{let t=Pe(e,["year"]).year||"";return`[[${t} in baseball|${t}]]`},"mlb year":e=>{let t=Pe(e,["year"]).year||"";return`[[${t} Major League Baseball season|${t}]]`},"nlds year":e=>{let{year:t}=Pe(e,["year"]);return`[[${t||""} National League Division Series|${t}]]`},"alds year":e=>{let{year:t}=Pe(e,["year"]);return`[[${t||""} American League Division Series|${t}]]`},"nfl year":e=>{let{year:t,other:i}=Pe(e,["year","other"]);return i&&t?`[[${t} NFL season|${t}]]–[[${i} NFL season|${i}]]`:`[[${t||""} NFL season|${t}]]`},"nfl playoff year":e=>{let{year:t}=Pe(e,["year"]);return t=Number(t),`[[${t}–${t+1} NFL playoffs|${t}]]`},"nba year":e=>{let{year:t}=Pe(e,["year"]);t=Number(t);let i=t+1;return`[[${t}–${i} NBA season|${t}–${i}]]`},"mhl year":e=>{let t=Pe(e,["year"]),i=Number(t.year),a=i+1;return`[[${i}–${a} NHL season|${i}–${a}]]`},min:e=>{let t=Pe(e).list||[],i=Number(t[0])||0;return t.forEach((e=>{let t=Number(e);!isNaN(t)&&t<i&&(i=t)})),String(i)},max:e=>{let t=Pe(e).list||[],i=Number(t[0])||0;return t.forEach((e=>{let t=Number(e);!isNaN(t)&&t>i&&(i=t)})),String(i)},uspolabbr:e=>{let{party:t,state:i,house:a}=Pe(e,["party","state","house","link"]);if(!t||!i)return"";let n=`${t}‑${i}`;return a&&(n+=` ${jt(a)}`),n},ushr:e=>{let{state:t,num:i,type:a}=Pe(e,["state","num","type"]),n="";if("AL"!==i)return i=jt(Number(i)),`${t}'s ${i} congressional district`;if(n=`${t}'s at-large congressional district`,a){if(a=a.toLowerCase(),i="AL"===i?"At-large":i,"e"===a)return`[[${n}|${i}]]`;if("u"===a)return`[[${n}|${t}]]`;if("b"===a||"x"===a)return`[[${n}|${t} ${i}]]`}return`[[${n}]]`},metro:e=>{let{name:t,dab:i}=Pe(e,["name","dab"]);return i?`[[${t} station (${i})|${t}]]`:`[[${t} station|${t}]]`},station:e=>{let{name:t,dab:i}=Pe(e,["name","x","dab"]);return i?`[[${t} station (${i})|${t}]]`:`[[${t} station|${t}]]`},bssrws:e=>{let{one:t,two:i}=Pe(e,["one","two"]),a=t;return i&&(a+=" "+i),`[[${a} railway station|${a}]]`},stnlnk:e=>{let{name:t,dab:i}=Pe(e,["name","dab"]);return i?`[[${t} railway station (${i})|${t}]]`:`[[${t} railway station|${t}]]`},"station link":e=>{let{station:t,system:i}=Pe(e,["system","station"]);return t||i},"line link":e=>{let{station:t,system:i}=Pe(e,["system","station"]);return t||i},subway:e=>{let{name:t}=Pe(e,["name"]);return`[[${t} subway station|${t}]]`},"lrt station":e=>{let{name:t}=Pe(e,["name"]);return`[[${t} LRT station|${t}]]`},"mrt station":e=>{let{name:t}=Pe(e,["name"]);return`[[${t} MRT station|${t}]]`},rht:e=>{let{name:t}=Pe(e,["name"]);return`[[${t} railway halt|${t}]]`},ferry:e=>{let{name:t}=Pe(e,["name"]);return`[[${t} ferry wharf|${t}]]`},tram:e=>{let{name:t,dab:i}=Pe(e,["name","dab"]);return i?`[[${t} tram stop (${i})|${t}]]`:`[[${t} tram stop|${t}]]`},tstop:e=>{let{name:t,dab:i}=Pe(e,["name","dab"]);return i?`[[${t} ${i} stop|${t}]]`:`[[${t} stop|${t}]]`},ship:e=>{let{prefix:t,name:i,id:a}=Pe(e,["prefix","name","id"]);return t=t||"",`[[${t.toUpperCase()} ${i}]]`},sclass:e=>{let{cl:t,type:i}=Pe(e,["cl","type","fmt"]);return`[[${t}-class ${i} |''${t}''-class]] [[${i}]]`},"center block":e=>{let{text:t}=Pe(e,["text"]);return t||""},align:e=>{let{text:t}=Pe(e,["dir","text"]);return t||""},font:e=>{let{text:t}=Pe(e,["text"]);return t||""},float:e=>{let{text:t,dir:i}=Pe(e,["dir","text"]);return t?t||"":i},lower:e=>{let{text:t,n:i}=Pe(e,["n","text"]);return t?t||"":i},splitspan:e=>{let t=Pe(e).list||[];return(t[0]||"")+"\n"+(t[1]||"")},bracket:e=>{let{text:t}=Pe(e,["text"]);return t?`[${t}]`:"["},"in title":e=>{let{title:t,text:i}=Pe(e,["title","text"]);return i||(t?`All pages with titles containing ${t}`:"")},"look from":e=>{let{title:t,text:i}=Pe(e,["title","text"]);return i||(t?`All pages with titles beginning with ${t}`:"")},"literal translation":e=>{let t=Pe(e).list||[];return t=t.map((e=>`'${e}'`)),"lit. "+t.join(" or ")}};let Ot=[["bwv","BWV"],["hwv","HWV"],["d.","D "],["aka","a.k.a. "],["cf.","cf. "],["fl.","fl. "],["circa","c. "],["born in","b. "],["died-in","d. "],["married-in","m. "]].reduce(((e,t)=>{let[i,a]=t;return e[i]=e=>{let{first:t}=Pe(e,["first"]);return t||0===t?a+(t||""):a},e}),{});["they","them","their","theirs","themself","they are","they were","they have","they do","he or she","him or her","his or her","his or hers","he/she","him/her","his/her"].forEach((e=>{Ot[e]=e}));let Et={};["sr-latn-cyrl","sr-cyrl-latn","sr-latn","sr-cyrl","sr-cyr","sh-latn-cyrl","sh-cyrl-latn","sh-latn","sh-cyrl","cel-1bd","cel-x-proto","en-emodeng","de-at","de-ch","gem-x-proto","gsw-fr","nds-nl","nl-be","ku-arab","ku-cyrl","pt-br","fra-frc","fra-que","roa-leo","roa-nor","ca-valencia","ast-leo","grc-gre","grc-x-doric","grc-x-proto","grc-x-medieval","cpg","gmy","grc","grk-x-proto","pnt","mga","owl","pgl","sga","wlm","xbm","xcb","xcg","xpi","aae","aln","sq-definite","bs-cyrl","hsb","ltg","orv","prg","rsk","rue","rus","sgs","sla","szl","wen","aoa","chn","cri","dlm","egl","fax","frc","frm","fro","fr-gallo","oc-gascon","gcf","gcr","ist","la-x-medieval","lij-mc","lld","lou","mfe","mol","mwl","mxi","nrf","osc","osp","pcd","pln","rcf","rgn","roa","ruo","rup","ruq","sdc","sdn","src","sro","xvo","bzj","cim","dum","enm","frk","frr","frs","gmh","gml","gmw","goh","gos","gsw","gyn","icr","jam","kri","lng","nb","non","nrn","odt","ofs","osx","pey","sli","srm","srn","stq","swg","vmf","wae","wep","wes","zea","hmd","hoc","kha","mnw","mtq","vi-chunom","vi-hantu","mvi","rys","ryu","yoi","ace","akl","ami","bew","bik","bjn","bya","cal","cbk","cjm","coa","cyo","dev","fil","gad","hil","iba","ibg","ibl","ilp","itv","ivv","jax","kne","krj","kxd","ljp","mad","mak","mdh","mrv","mrw","ms-arab","nia","niu","pau","pwn","rap","rar","sgd","su-fonts","szy","tao","tkl","tsg","tvl","uli","wls","xsb","yap","yka","ckt","itl","brh","oty","tcy","abq","ady","ddo","inh","kbd","lbe","lez","rut","tab","uby","udi","bai","bin","bsq","dag","dyu","efi","fan","fmp","fuc","fuf","gaa","ibb","kbp","kcg","kpo","ktu","lu","lua","lun","mkw","mos","oaa","sjo","ude","anm","bft","blk","brx","dng","kjp","kjz","ksw","lbj","lus","aae","aaq","abe","abq","aca","ace","acf","acm","acw","ady","ae","aeb","aec","aer","afb","aht","aii","aij","ain","aiq","akk","akl","akz","ale","aln","alq","alt","ami","anm","aoa","apj","apm","apw","ayn","arb","arh","ari","arn","arp","arq","ary","arz","asb","ath","ats","awa","axm","azb","azd","azj","bai","bal","ban","bax","bdz","bea","ber","bew","bft","bgn","bho","bik","bin","bjn","bla","blc","blk","bqi","brh","brx","bsk","bsq","bua","bvb","bya","bzj","cal","cay","cbk","ccp","chg","chm","chn","chp","cic","cim","ciw","cjm","cjs","ckb","ckt","cku","cld","clm","cmg","cmn","cms","cnu","coa","coc","coj","com","coo","cop","cpg","crg","crh","cri","crj","crk","crl","crm","cro","csw","csz","ctg","ctm","cyo","dag","dak","ddo","deh","del","den","dev","din","dlm","dng","dum","dyu","efi","egl","egy","elx","eml","ems","cmn","och","yue","mjw","mni","my-name-mlcts","nan","nwc","omp","otb","pwo","sip","xct","xsr","1ca","alt","az-arab","azb","azj","chg","cjs","crh","crh3","kaa","kjh","krc","kum","nog","ota","otk","sah","slr","sty","tt-arab","tt-cyrl","tt-latn","tyv","uniturk","chm","est-sea","fit","fkv","izh","jmy","koi","krl","liv","mdf","mhr","mrj","myv","olo","sia","sjd","sje","sjk","sjt","sju","sma","smi","smj","smn","sms","vep","vot","vro","yrk","din","luo","srr","sus","swh","umb","yao"].forEach((e=>{Et["lang-"+e]=0})),Object.keys(q).forEach((e=>{Et["lang-"+e]=0}));var qt=[["🇦🇩","and","andorra"],["🇦🇪","are","united arab emirates"],["🇦🇫","afg","afghanistan"],["🇦🇬","atg","antigua and barbuda"],["🇦🇮","aia","anguilla"],["🇦🇱","alb","albania"],["🇦🇲","arm","armenia"],["🇦🇴","ago","angola"],["🇦🇶","ata","antarctica"],["🇦🇷","arg","argentina"],["🇦🇸","asm","american samoa"],["🇦🇹","aut","austria"],["🇦🇺","aus","australia"],["🇦🇼","abw","aruba"],["🇦🇽","ala","åland islands"],["🇦🇿","aze","azerbaijan"],["🇧🇦","bih","bosnia and herzegovina"],["🇧🇧","brb","barbados"],["🇧🇩","bgd","bangladesh"],["🇧🇪","bel","belgium"],["🇧🇫","bfa","burkina faso"],["🇧🇬","bgr","bulgaria"],["🇧🇬","bul","bulgaria"],["🇧🇭","bhr","bahrain"],["🇧🇮","bdi","burundi"],["🇧🇯","ben","benin"],["🇧🇱","blm","saint barthélemy"],["🇧🇲","bmu","bermuda"],["🇧🇳","brn","brunei darussalam"],["🇧🇴","bol","bolivia"],["🇧🇶","bes","bonaire, sint eustatius and saba"],["🇧🇷","bra","brazil"],["🇧🇸","bhs","bahamas"],["🇧🇹","btn","bhutan"],["🇧🇻","bvt","bouvet island"],["🇧🇼","bwa","botswana"],["🇧🇾","blr","belarus"],["🇧🇿","blz","belize"],["🇨🇦","can","canada"],["🇨🇨","cck","cocos (keeling) islands"],["🇨🇩","cod","congo"],["🇨🇫","caf","central african republic"],["🇨🇬","cog","congo"],["🇨🇭","che","switzerland"],["🇨🇮","civ","côte d'ivoire"],["🇨🇰","cok","cook islands"],["🇨🇱","chl","chile"],["🇨🇲","cmr","cameroon"],["🇨🇳","chn","china"],["🇨🇴","col","colombia"],["🇨🇷","cri","costa rica"],["🇨🇺","cub","cuba"],["🇨🇻","cpv","cape verde"],["🇨🇼","cuw","curaçao"],["🇨🇽","cxr","christmas island"],["🇨🇾","cyp","cyprus"],["🇨🇿","cze","czech republic"],["🇩🇪","deu","germany"],["🇩🇪","ger","germany"],["🇩🇯","dji","djibouti"],["🇩🇰","dnk","denmark"],["🇩🇲","dma","dominica"],["🇩🇴","dom","dominican republic"],["🇩🇿","dza","algeria"],["🇪🇨","ecu","ecuador"],["🇪🇪","est","estonia"],["🇪🇬","egy","egypt"],["🇪🇭","esh","western sahara"],["🇪🇷","eri","eritrea"],["🇪🇸","esp","spain"],["🇪🇹","eth","ethiopia"],["🇫🇮","fin","finland"],["🇫🇯","fji","fiji"],["🇫🇰","flk","falkland islands (malvinas)"],["🇫🇲","fsm","micronesia"],["🇫🇴","fro","faroe islands"],["🇫🇷","fra","france"],["🇬🇦","gab","gabon"],["🇬🇧","gbr","united kingdom"],["🇬🇩","grd","grenada"],["🇬🇫","guf","french guiana"],["🇬🇬","ggy","guernsey"],["🇬🇭","gha","ghana"],["🇬🇮","gib","gibraltar"],["🇬🇱","grl","greenland"],["🇬🇲","gmb","gambia"],["🇬🇳","gin","guinea"],["🇬🇵","glp","guadeloupe"],["🇬🇶","gnq","equatorial guinea"],["🇬🇷","grc","greece"],["🇬🇸","sgs","south georgia"],["🇬🇹","gtm","guatemala"],["🇬🇺","gum","guam"],["🇬🇼","gnb","guinea-bissau"],["🇬🇾","guy","guyana"],["🇭🇰","hkg","hong kong"],["🇭🇲","hmd","heard island and mcdonald islands"],["🇭🇳","hnd","honduras"],["🇭🇷","hrv","croatia"],["🇭🇹","hti","haiti"],["🇭🇺","hun","hungary"],["🇮🇩","idn","indonesia"],["🇮🇪","irl","ireland"],["🇮🇱","isr","israel"],["🇮🇲","imn","isle of man"],["🇮🇳","ind","india"],["🇮🇴","iot","british indian ocean territory"],["🇮🇶","irq","iraq"],["🇮🇷","irn","iran"],["🇮🇸","isl","iceland"],["🇮🇹","ita","italy"],["🇯🇪","jey","jersey"],["🇯🇲","jam","jamaica"],["🇯🇴","jor","jordan"],["🇯🇵","jpn","japan"],["🇰🇪","ken","kenya"],["🇰🇬","kgz","kyrgyzstan"],["🇰🇭","khm","cambodia"],["🇰🇮","kir","kiribati"],["🇰🇲","com","comoros"],["🇰🇳","kna","saint kitts and nevis"],["🇰🇵","prk","north korea"],["🇰🇷","kor","south korea"],["🇰🇼","kwt","kuwait"],["🇰🇾","cym","cayman islands"],["🇰🇿","kaz","kazakhstan"],["🇱🇦","lao","lao people's democratic republic"],["🇱🇧","lbn","lebanon"],["🇱🇨","lca","saint lucia"],["🇱🇮","lie","liechtenstein"],["🇱🇰","lka","sri lanka"],["🇱🇷","lbr","liberia"],["🇱🇸","lso","lesotho"],["🇱🇹","ltu","lithuania"],["🇱🇺","lux","luxembourg"],["🇱🇻","lva","latvia"],["🇱🇾","lby","libya"],["🇲🇦","mar","morocco"],["🇲🇨","mco","monaco"],["🇲🇩","mda","moldova"],["🇲🇪","mne","montenegro"],["🇲🇫","maf","saint martin (french part)"],["🇲🇬","mdg","madagascar"],["🇲🇭","mhl","marshall islands"],["🇲🇰","mkd","macedonia"],["🇲🇱","mli","mali"],["🇲🇲","mmr","myanmar"],["🇲🇳","mng","mongolia"],["🇲🇴","mac","macao"],["🇲🇵","mnp","northern mariana islands"],["🇲🇶","mtq","martinique"],["🇲🇷","mrt","mauritania"],["🇲🇸","msr","montserrat"],["🇲🇹","mlt","malta"],["🇲🇺","mus","mauritius"],["🇲🇻","mdv","maldives"],["🇲🇼","mwi","malawi"],["🇲🇽","mex","mexico"],["🇲🇾","mys","malaysia"],["🇲🇿","moz","mozambique"],["🇳🇦","nam","namibia"],["🇳🇨","ncl","new caledonia"],["🇳🇪","ner","niger"],["🇳🇫","nfk","norfolk island"],["🇳🇬","nga","nigeria"],["🇳🇮","nic","nicaragua"],["🇳🇱","nld","netherlands"],["🇳🇴","nor","norway"],["🇳🇵","npl","nepal"],["🇳🇷","nru","nauru"],["🇳🇺","niu","niue"],["🇳🇿","nzl","new zealand"],["🇴🇲","omn","oman"],["🇵🇦","pan","panama"],["🇵🇪","per","peru"],["🇵🇫","pyf","french polynesia"],["🇵🇬","png","papua new guinea"],["🇵🇭","phl","philippines"],["🇵🇰","pak","pakistan"],["🇵🇱","pol","poland"],["🇵🇲","spm","saint pierre and miquelon"],["🇵🇳","pcn","pitcairn"],["🇵🇷","pri","puerto rico"],["🇵🇸","pse","palestinian territory"],["🇵🇹","prt","portugal"],["🇵🇼","plw","palau"],["🇵🇾","pry","paraguay"],["🇶🇦","qat","qatar"],["🇷🇪","reu","réunion"],["🇷🇴","rou","romania"],["🇷🇸","srb","serbia"],["🇷🇺","rus","russia"],["🇷🇼","rwa","rwanda"],["🇸🇦","sau","saudi arabia"],["🇸🇧","slb","solomon islands"],["🇸🇨","syc","seychelles"],["🇸🇩","sdn","sudan"],["🇸🇪","swe","sweden"],["🇸🇬","sgp","singapore"],["🇸🇭","shn","saint helena, ascension and tristan da cunha"],["🇸🇮","svn","slovenia"],["🇸🇯","sjm","svalbard and jan mayen"],["🇸🇰","svk","slovakia"],["🇸🇱","sle","sierra leone"],["🇸🇲","smr","san marino"],["🇸🇳","sen","senegal"],["🇸🇴","som","somalia"],["🇸🇷","sur","suriname"],["🇸🇸","ssd","south sudan"],["🇸🇹","stp","sao tome and principe"],["🇸🇻","slv","el salvador"],["🇸🇽","sxm","sint maarten (dutch part)"],["🇸🇾","syr","syrian arab republic"],["🇸🇿","swz","swaziland"],["🇹🇨","tca","turks and caicos islands"],["🇹🇩","tcd","chad"],["🇹🇫","atf","french southern territories"],["🇹🇬","tgo","togo"],["🇹🇭","tha","thailand"],["🇹🇯","tjk","tajikistan"],["🇹🇰","tkl","tokelau"],["🇹🇱","tls","timor-leste"],["🇹🇲","tkm","turkmenistan"],["🇹🇳","tun","tunisia"],["🇹🇴","ton","tonga"],["🇹🇷","tur","turkey"],["🇹🇹","tto","trinidad and tobago"],["🇹🇻","tuv","tuvalu"],["🇹🇼","twn","taiwan"],["🇹🇿","tza","tanzania"],["🇺🇦","ukr","ukraine"],["🇺🇬","uga","uganda"],["🇺🇲","umi","united states minor outlying islands"],["🇺🇸","us","united states"],["🇺🇸","usa","united states"],["🇺🇾","ury","uruguay"],["🇺🇿","uzb","uzbekistan"],["🇻🇦","vat","vatican city"],["🇻🇨","vct","saint vincent and the grenadines"],["🇻🇪","ven","venezuela"],["🇻🇬","vgb","virgin islands, british"],["🇻🇮","vir","virgin islands, u.s."],["🇻🇳","vnm","viet nam"],["🇻🇺","vut","vanuatu"],["🇼🇫","wlf","wallis and futuna"],["🇼🇸","wsm","samoa"],["🇾🇪","yem","yemen"],["🇾🇹","myt","mayotte"],["🇿🇦","zaf","south africa"],["🇿🇲","zmb","zambia"],["🇿🇼 ","zwe","zimbabwe"],["🇺🇳","un","united nations"],["🏴󠁧󠁢󠁥󠁮󠁧󠁿","eng","england"],["🏴󠁧󠁢󠁳󠁣󠁴󠁿","sct","scotland"],["🏴󠁧󠁢󠁷󠁬󠁳󠁿","wal","wales"],["🇪🇺","eu","european union"]];const St=["flag","variant"];let Nt={flag:e=>{let t=Pe(e,St),i=t.flag||"";t.flag=(t.flag||"").toLowerCase();let a=qt.find((e=>t.flag===e[1]||t.flag===e[2]))||[];return`${a[0]||""} [[${a[2]}|${i}]]`},flagcountry:e=>{let t=Pe(e,St);t.flag=(t.flag||"").toLowerCase();let i=qt.find((e=>t.flag===e[1]||t.flag===e[2]))||[];return`${i[0]||""} [[${i[2]}]]`},flagcu:e=>{let t=Pe(e,St);t.flag=(t.flag||"").toLowerCase();let i=qt.find((e=>t.flag===e[1]||t.flag===e[2]))||[];return`${i[0]||""} ${i[2]}`},flagicon:e=>{let t=Pe(e,St);t.flag=(t.flag||"").toLowerCase();let i=qt.find((e=>t.flag===e[1]||t.flag===e[2]));return i?`[[${i[2]}|${i[0]}]]`:""},flagdeco:e=>{let t=Pe(e,St);return t.flag=(t.flag||"").toLowerCase(),(qt.find((e=>t.flag===e[1]||t.flag===e[2]))||[])[0]||""},fb:e=>{let t=Pe(e,St);t.flag=(t.flag||"").toLowerCase();let i=qt.find((e=>t.flag===e[1]||t.flag===e[2]));return i?`${i[0]} [[${i[2]} national football team|${i[2]}]]`:""},fbicon:e=>{let t=Pe(e,St);t.flag=(t.flag||"").toLowerCase();let i=qt.find((e=>t.flag===e[1]||t.flag===e[2]));return i?` [[${i[2]} national football team|${i[0]}]]`:""},flagathlete:e=>{let t=Pe(e,["name","flag","variant"]);t.flag=(t.flag||"").toLowerCase();let i=qt.find((e=>t.flag===e[1]||t.flag===e[2]));return i?`${i[0]} [[${t.name||""}]] (${i[1].toUpperCase()})`:`[[${t.name||""}]]`}};qt.forEach((e=>{Nt[e[1]]=()=>e[0]}));let Ct={};["rh","rh2","yes","no","maybe","eliminated","lost","safe","active","site active","coming soon","good","won","nom","sho","longlisted","tba","success","operational","failure","partial","regional","maybecheck","partial success","partial failure","okay","yes-no","some","nonpartisan","pending","unofficial","unofficial2","usually","rarely","sometimes","any","varies","black","non-album single","unreleased","unknown","perhaps","depends","included","dropped","terminated","beta","table-experimental","free","proprietary","nonfree","needs","nightly","release-candidate","planned","scheduled","incorrect","no result","cmain","calso starring","crecurring","cguest","not yet","optional"].forEach((e=>{Ct[e]=e=>{let t=Pe(e,["text"]);return t.text||vt(t.template)}}));[["active fire","Active"],["site active","Active"],["site inactive","Inactive"],["yes2",""],["no2",""],["ya","✅"],["na","❌"],["nom","Nominated"],["sho","Shortlisted"],["tba","TBA"],["maybecheck","✔️"],["okay","Neutral"],["n/a","N/A"],["sdash","—"],["dunno","?"],["draw",""],["cnone",""],["nocontest",""]].forEach((e=>{Ct[e[0]]=t=>Pe(t,["text"]).text||e[1]}));var Lt=Object.assign({},ft,kt,wt,zt,Et,Ot,Nt,Ct);let Dt={};["goodreads author","twitter","facebook","instagram","tumblr","pinterest","espn nfl","espn nhl","espn fc","hockeydb","fifa player","worldcat","worldcat id","nfl player","ted speaker","playmate"].forEach((e=>{Dt[e]=["id","name"]}));let It={};["imdb title","imdb name","imdb episode","imdb event","afi film","allmovie title","allgame","tcmdb title","discogs artist","discogs label","discogs release","discogs master","librivox author","musicbrainz artist","musicbrainz label","musicbrainz recording","musicbrainz release","musicbrainz work","youtube","goodreads book","dmoz"].forEach((e=>{It[e]=["id","title","description","section"]}));let At={};["citation needed"].forEach((e=>{At[e]=(e,t)=>(t.push(Pe(e)),"")}));var Pt={ipa:(e,t)=>{let i=Pe(e,["transcription","lang","audio"]);return i.lang=xt(i.template),i.template="ipa",t.push(i),""},ipac:(e,t)=>{let i=Pe(e);return i.transcription=(i.list||[]).join(","),delete i.list,i.lang=xt(i.template),i.template="ipac",t.push(i),""},quote:(e,t)=>{let i=Pe(e,["text","author"]);if(t.push(i),i.text){let e=`"${i.text}"`;return i.author&&(e+="\n\n",e+=`    - ${i.author}`),e+"\n"}return""},"cite gnis":(e,t)=>{let i=Pe(e,["id","name","type"]);return i.type="gnis",i.template="citation",t.push(i),""},"spoken wikipedia":(e,t)=>{let i=Pe(e,["file","date"]);return i.template="audio",t.push(i),""},yel:(e,t)=>{let i=Pe(e,["min"]);return t.push(i),i.min?`yellow: ${i.min||""}'`:""},subon:(e,t)=>{let i=Pe(e,["min"]);return t.push(i),i.min?`sub on: ${i.min||""}'`:""},suboff:(e,t)=>{let i=Pe(e,["min"]);return t.push(i),i.min?`sub off: ${i.min||""}'`:""},sfn:(e,t,i,a)=>{let n=Pe(e,["author","year","location"]);return a&&(n.name=n.template,n.teplate=a),t.push(n),""},redirect:(e,t)=>{let i=Pe(e,["redirect"]),a=i.list||[],n=[];for(let e=0;e<a.length;e+=2)n.push({page:a[e+1],desc:a[e]});let r={template:"redirect",redirect:i.redirect,links:n};return t.push(r),""},"sister project links":(e,t)=>{let i=Pe(e),a={};Object.keys(_t).forEach((e=>{!0===i.hasOwnProperty(e)&&(a[_t[e]]=i[e])}));let n={template:"sister project links",links:a};return t.push(n),""},"subject bar":(e,t)=>{let i=Pe(e);Object.keys(i).forEach((e=>{_t.hasOwnProperty(e)&&(i[_t[e]]=i[e],delete i[e])}));let a={template:"subject bar",links:i};return t.push(a),""},gallery:(e,t)=>{let i=Pe(e),a=(i.list||[]).filter((e=>/^ *File ?:/.test(e)));return a=a.map((e=>new O({file:e}).json())),i={template:"gallery",images:a},t.push(i),""},sky:(e,t)=>{let i=Pe(e,["asc_hours","asc_minutes","asc_seconds","dec_sign","dec_degrees","dec_minutes","dec_seconds","distance"]),a={template:"sky",ascension:{hours:i.asc_hours,minutes:i.asc_minutes,seconds:i.asc_seconds},declination:{sign:i.dec_sign,degrees:i.dec_degrees,minutes:i.dec_minutes,seconds:i.dec_seconds},distance:i.distance};return t.push(a),""},"medical cases chart":(e,t)=>{let i=["date","deathsExpr","recoveriesExpr","casesExpr","4thExpr","5thExpr","col1","col1Change","col2","col2Change"],a=Pe(e);a.data=a.data||"";let n=a.data.split("\n").map((e=>{let t=e.split(";"),a={options:new Map},n=0;for(let e=0;e<t.length;e++){let r=t[e].trim();if(r.match(/^[a-z_]/i)){let[e,t]=r.split("=");void 0===t&&(t=null),a.options.set(e,t)}else n<i.length&&(a[i[n]]=r),n++}for(;n<i.length;n++)a[i[n]]=null;return a}));return a.data=n,t.push(a),""},graph:(e,t)=>{let i=Pe(e);i.x&&(i.x=i.x.split(",").map((e=>e.trim()))),i.y&&(i.y=i.y.split(",").map((e=>e.trim())));let a=1;for(;i["y"+a];)i["y"+a]=i["y"+a].split(",").map((e=>e.trim())),a+=1;return t.push(i),""},"historical populations":(e,t)=>{let i=Pe(e);i.list=i.list||[];let a=[];for(let e=0;e<i.list.length;e+=2){let t=i.list[e+1];a.push({year:i.list[e],val:Number(t)||t})}return i.data=a,delete i.list,t.push(i),""},"weather box":(e,t)=>{const i=/^jan /i,a=/^year /i;let n=Pe(e);const r=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];let o={},s=Object.keys(n).filter((e=>i.test(e)));s=s.map((e=>e.replace(i,""))),s.forEach((e=>{o[e]=[],r.forEach((t=>{let i=`${t} ${e}`;if(n.hasOwnProperty(i)){let t=$t(n[i]);delete n[i],o[e].push(t)}}))})),n.byMonth=o;let l={};return Object.keys(n).forEach((e=>{if(a.test(e)){let t=e.replace(a,"");l[t]=n[e],delete n[e]}})),n.byYear=l,t.push(n),""},"weather box/concise c":(e,t)=>{let i=Pe(e);return i.list=i.list.map((e=>$t(e))),i.byMonth={"high c":i.list.slice(0,12),"low c":i.list.slice(12,24),"rain mm":i.list.slice(24,36)},delete i.list,i.template="weather box",t.push(i),""},"weather box/concise f":(e,t)=>{let i=Pe(e);return i.list=i.list.map((e=>$t(e))),i.byMonth={"high f":i.list.slice(0,12),"low f":i.list.slice(12,24),"rain inch":i.list.slice(24,36)},delete i.list,i.template="weather box",t.push(i),""},"climate chart":(e,t)=>{let i=Pe(e).list||[],a=i[0],n=i[38];i=i.slice(1),i=i.map((e=>(e&&"−"===e[0]&&(e=e.replace(/−/,"-")),e)));let r=[];for(let e=0;e<36;e+=3)r.push({low:$t(i[e]),high:$t(i[e+1]),precip:$t(i[e+2])});let o={template:"climate chart",data:{title:a,source:n,months:r}};return t.push(o),""},medalcount:(e,t)=>{let i=Pe(e).list||[],a=[];for(let e=0;e<i.length;e+=4)a.push({name:i[e],"1st":Number(i[e+1]),"2nd":Number(i[e+2]),"3rd":Number(i[e+3])});let n={template:"medalcount",list:a};return t.push(n),""}};let Tt={"find a grave":["id","name","work","last","first","date","accessdate"],congbio:["id","name","date"],"hollywood walk of fame":["name"],"wide image":["file","width","caption"],audio:["file","text","type"],rp:["page"],"short description":["description"],"coord missing":["region"],unreferenced:["date"],"taxon info":["taxon","item"],"portuguese name":["first","second","suffix"],geo:["lat","lon","zoom"],hatnote:["text"]};Tt=Object.assign(Tt,At,Dt,It,Pt);var Mt=Tt;var Rt={mlbplayer:{props:["number","name","il"],out:"name"},syntaxhighlight:{props:[],out:"code"},samp:{props:["1"],out:"1"},sub:{props:["text"],out:"text"},sup:{props:["text"],out:"text"},chem2:{props:["equation"],out:"equation"},ill:{props:["text","lan1","text1","lan2","text2"],out:"text"},abbr:{props:["abbr","meaning","ipa"],out:"abbr"}};let Ft={math:(e,t)=>{let i=Pe(e,["formula"]);return t.push(i),"\n\n"+(i.formula||"")+"\n\n"},legend:(e,t)=>{let i=Pe(e,["color","label"]);return t.push(i),e},isbn:(e,t)=>{let i=Pe(e,["id","id2","id3"]);return t.push(i),"ISBN "+(i.id||"")},"based on":(e,t)=>{let i=Pe(e,["title","author"]);return t.push(i),`${i.title} by ${i.author||""}`},"bbl to t":(e,t)=>{let i=Pe(e,["barrels"]);return t.push(i),"0"===i.barrels?i.barrels+" barrel":i.barrels+" barrels"},mpc:(e,t)=>{let i=Pe(e,["number","text"]);return t.push(i),`[https://minorplanetcenter.net/db_search/show_object?object_id=P/2011+NO1 ${i.text||i.number}]`},pengoal:(e,t)=>(t.push({template:"pengoal"}),"✅"),penmiss:(e,t)=>(t.push({template:"penmiss"}),"❌"),"ordered list":(e,t)=>{let i=Pe(e);return t.push(i),i.list=i.list||[],i.list.map(((e,t)=>`${t+1}. ${e}`)).join("\n\n")},"title year":(e,t,i,a,n)=>{let r=Pe(e,["match","nomatch","page"]),o=r.page||n.title();if(o){let e=o.match(/\b[0-9]{4}\b/);if(e)return e[0]}return r.nomatch||""},"title century":(e,t,i,a,n)=>{let r=Pe(e,["match","nomatch","page"]),o=r.page||n.title();if(o){let e=o.match(/\b([0-9]+)(st|nd|rd|th)\b/);if(e)return e[1]||""}return r.nomatch||""},"title decade":(e,t,i,a,n)=>{let r=Pe(e,["match","nomatch","page"]),o=r.page||n.title();if(o){let e=o.match(/\b([0-9]+)s\b/);if(e)return e[1]||""}return r.nomatch||""},nihongo:(e,t)=>{let i=Pe(e,["english","kanji","romaji","extra"]);t.push(i);let a=i.english||i.romaji||"";return i.kanji&&(a+=` (${i.kanji})`),a},marriage:(e,t)=>{let i=Pe(e,["spouse","from","to","end"]);t.push(i);let a=i.spouse||"";return i.from&&(i.to?a+=` (m. ${i.from}-${i.to})`:a+=` (m. ${i.from})`),a},"sent off":(e,t)=>{let i=Pe(e,["cards"]),a={template:"sent off",cards:i.cards,minutes:i.list||[]};return t.push(a),"sent off: "+a.minutes.map((e=>e+"'")).join(", ")},transl:(e,t)=>{let i=Pe(e,["lang","text","text2"]);return i.text2&&(i.iso=i.text,i.text=i.text2,delete i.text2),t.push(i),i.text||""},"collapsible list":(e,t)=>{let i=Pe(e);t.push(i);let a="";if(i.title&&(a+=`'''${i.title}'''\n\n`),!i.list){i.list=[];for(let e=1;e<10;e+=1)i[e]&&(i.list.push(i[e]),delete i[e])}return i.list=i.list.filter((e=>e)),a+=i.list.join("\n\n"),a},"columns-list":(e,t)=>{let i=((Pe(e).list||[])[0]||"").split(/\n/).filter((e=>e));return i=i.map((e=>e.replace(/\*/,""))),t.push({template:"columns-list",list:i}),i=i.map((e=>"• "+e)),i.join("\n\n")},height:(e,t)=>{let i=Pe(e);t.push(i);let a=[];return["m","cm","ft","in"].forEach((e=>{!0===i.hasOwnProperty(e)&&a.push(i[e]+e)})),a.join(" ")},sic:(e,t)=>{let i=Pe(e,["one","two","three"]),a=(i.one||"")+(i.two||"");return"?"===i.one&&(a=(i.two||"")+(i.three||"")),t.push({template:"sic",word:a}),"y"===i.nolink?a:`${a} [sic]`},inrconvert:(e,t)=>{let i=Pe(e,["rupee_value","currency_formatting"]);t.push(i);const a={k:1e3,m:1e6,b:1e9,t:1e12,l:1e5,c:1e7,lc:1e12};if(i.currency_formatting){let e=a[i.currency_formatting]||1;i.rupee_value=i.rupee_value*e}return`inr ${i.rupee_value||""}`},frac:(e,t)=>{let i=Pe(e,["a","b","c"]),a={template:"sfrac"};return i.c?(a.integer=i.a,a.numerator=i.b,a.denominator=i.c):i.b?(a.numerator=i.a,a.denominator=i.b):(a.numerator=1,a.denominator=i.a),t.push(a),a.integer?`${a.integer} ${a.numerator}⁄${a.denominator}`:`${a.numerator}⁄${a.denominator}`},"winning percentage":(e,t)=>{let i=Pe(e,["wins","losses","ties"]);t.push(i);let a=Number(i.wins),n=Number(i.losses),r=Number(i.ties)||0,o=a+n+r;"y"===i.ignore_ties&&(r=0),r&&(a+=r/2);let s=yt({numerator:a,denominator:o,decimals:1});return null===s?"":"."+10*s},winlosspct:(e,t)=>{let i=Pe(e,["wins","losses"]);t.push(i);let a=Number(i.wins),n=Number(i.losses),r=yt({numerator:a,denominator:a+n,decimals:1});return null===r?"":`${a||0} || ${n||0} || ${"."+10*r||"-"}`},"video game release":(e,t)=>{let i=["region","date","region2","date2","region3","date3","region4","date4"],a=Pe(e,i),n={template:"video game release",releases:[]};for(let e=0;e<i.length;e+=2)a[i[e]]&&n.releases.push({region:a[i[e]],date:a[i[e+1]]});return t.push(n),"\n"+n.releases.map((e=>`${e.region}: ${e.date||""}`)).join("\n\n")+"\n"},uss:(e,t)=>{let i=Pe(e,["name","id"]);return t.push(i),i.id?`[[USS ${i.name} (${i.id})|USS ''${i.name}'' (${i.id})]]`:`[[USS ${i.name}|USS ''${i.name}'']]`},blockquote:(e,t)=>{let i=Pe(e,["text","author","title","source","character"]);t.push(i);let a=i.text;a||(i.list=i.list||[],a=i.list[0]||"");let n=a.replace(/"/g,"'");return n='"'+n+'"',n},ReptileDatabase:(e,t)=>{let i=Pe(e,["taxon","genus","species","abruf","pure_url"]);t.push(i);let a="";return(i.genus||i.species)&&(a=`${i.genus||""} ${i.species||""} `),`${a}In: [[The Reptile Database]]`},GEOnet3:(e,t)=>{let i=Pe(e,["ufi","name"]);return t.push(i),"GEOnet3 can be found at [[GEOnet Names Server]], at [http://geonames.nga.mil/namesgaz/ this link]"}};const Ut={"£":"GB£","¥":"¥","৳":"৳","₩":"₩","€":"€","₱":"₱","₹":"₹","₽":"₽","cn¥":"CN¥","gb£":"GB£","india rs":"₹","indian rupee symbol":"₹","indian rupee":"₹","indian rupees":"₹","philippine peso":"₱","russian ruble":"₽","SK won":"₩","turkish lira":"TRY",a$:"A$",au$:"A$",aud:"A$",bdt:"BDT",brl:"BRL",ca$:"CA$",cad:"CA$",chf:"CHF",cny:"CN¥",czk:"czk",dkk:"dkk",dkk2:"dkk",euro:"€",gbp:"GB£",hk$:"HK$",hkd:"HK$",ils:"ILS",inr:"₹",jpy:"¥",myr:"MYR",nis:"ILS",nok:"NOK",nok2:"NOK",nz$:"NZ$",nzd:"NZ$",peso:"peso",pkr:"₨",r$:"BRL",rmb:"CN¥",rub:"₽",ruble:"₽",rupee:"₹",s$:"sgd",sek:"SEK",sek2:"SEK",sfr:"CHF",sgd:"sgd",shekel:"ILS",sheqel:"ILS",ttd:"TTD",us$:"US$",usd:"US$",yen:"¥",zar:"R"},Bt=(e,t)=>{let i=Pe(e,["amount","code"]);t.push(i);let a=i.template||"";"currency"===a?(a=i.code,a||(i.code=a="usd")):""!==a&&"monnaie"!==a&&"unité"!==a&&"nombre"!==a&&"nb"!==a||(a=i.code),a=(a||"").toLowerCase(),"us"===a?i.code=a="usd":"uk"===a&&(i.code=a="gbp");let n=`${Ut[a]||""}${i.amount||""}`;return i.code&&!Ut[i.code.toLowerCase()]&&(n+=" "+i.code),n};let Kt={currency:Bt};Object.keys(Ut).forEach((e=>{Kt[e]=Bt}));const Wt=864e5,Ht=30*Wt,Yt=365*Wt,Gt=function(e){return new Date(`${e.year}-${e.month||0}-${e.date||1}`).getTime()},Zt=function(e,t){e=Gt(e);let i=(t=Gt(t))-e,a={},n=Math.floor(i/Yt);n>0&&(a.years=n,i-=a.years*Yt);let r=Math.floor(i/Ht);r>0&&(a.months=r,i-=a.months*Ht);let o=Math.floor(i/Wt);return o>0&&(a.days=o),a},Vt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Jt=[void 0,"January","February","March","April","May","June","July","August","September","October","November","December"],Xt=Jt.reduce(((e,t,i)=>(0===i||(e[t.toLowerCase()]=i,e[t.substring(0,3).toLowerCase()]=i),e)),{}),Qt=function(e){let t={},i=["year","month","date","hour","minute","second"];for(let a=0;a<i.length;a+=1){if(!e[a]&&0!==e[1])continue;let n=parseInt(e[a],10);if(!1===isNaN(n))t[i[a]]=n;else if("month"===i[a]){let n=e[a].toLowerCase().trim();if(Xt.hasOwnProperty(n)){let e=Xt[n];t[i[a]]=e}}else delete t[i[a]]}let a=e[e.length-1]||"";return a=String(a),"z"===a.toLowerCase()?t.tz="UTC":/[+-][0-9]+:[0-9]/.test(a)&&(t.tz=e[6]),t},ei=function(e){return e<10?"0"+e:String(e)},ti=function(e){let t=String(e.year||"");if(void 0!==e.month&&!0===Jt.hasOwnProperty(e.month))if(void 0===e.date)t=`${Jt[e.month]} ${e.year}`;else{if(t=`${Jt[e.month]} ${e.date}, ${e.year}`,void 0!==e.hour&&void 0!==e.minute){let i=`${ei(e.hour)}:${ei(e.minute)}`;void 0!==e.second&&(i=i+":"+ei(e.second)),t=i+", "+t}e.tz&&(t+=` (${e.tz})`)}return t},ii=function(e){return{template:"date",data:e}},ai=function(e){let t=(e=Se(e)).split("|"),i=Qt(t.slice(1,4)),a=t.slice(4,7);if(0===a.length){let e=new Date;a=[e.getFullYear(),e.getMonth(),e.getDate()]}return a=Qt(a),{from:i,to:a}},ni={date:(e,t)=>{let i=Pe(e,["year","month","date","hour","minute","second","timezone"]),a=Qt([i.year,i.month,i.date||i.day]);return i.text=ti(a),i.timezone&&("Z"===i.timezone&&(i.timezone="UTC"),i.text+=` (${i.timezone})`),i.hour&&i.minute&&(i.second?i.text=`${i.hour}:${i.minute}:${i.second}, `+i.text:i.text=`${i.hour}:${i.minute}, `+i.text),i.text&&t.push(ii(i)),i.text},natural_date:(e,t)=>{let i=Pe(e,["text"]).text||"",a={};if(/^[0-9]{4}$/.test(i))a.year=parseInt(i,10);else{let e=i.replace(/[a-z]+\/[a-z]+/i,"");e=e.replace(/[0-9]+:[0-9]+(am|pm)?/i,"");let t=new Date(e);!1===isNaN(t.getTime())&&(a.year=t.getFullYear(),a.month=t.getMonth()+1,a.date=t.getDate())}return t.push(ii(a)),i.trim()},one_year:(e,t)=>{let i=Pe(e,["year"]),a=Number(i.year);return t.push(ii({year:a})),String(a)},two_dates:(e,t)=>{let i=Pe(e,["b","birth_year","birth_month","birth_date","death_year","death_month","death_date"]);if(i.b&&"b"===i.b.toLowerCase()){let e=Qt([i.birth_year,i.birth_month,i.birth_date]);return t.push(ii(e)),ti(e)}let a=Qt([i.death_year,i.death_month,i.death_date]);return t.push(ii(a)),ti(a)},age:e=>{let t=ai(e);return Zt(t.from,t.to).years||0},"diff-y":e=>{let t=ai(e),i=Zt(t.from,t.to);return 1===i.years?i.years+" year":(i.years||0)+" years"},"diff-ym":e=>{let t=ai(e),i=Zt(t.from,t.to),a=[];return 1===i.years?a.push(i.years+" year"):i.years&&0!==i.years&&a.push(i.years+" years"),1===i.months?a.push("1 month"):i.months&&0!==i.months&&a.push(i.months+" months"),a.join(", ")},"diff-ymd":e=>{let t=ai(e),i=Zt(t.from,t.to),a=[];return 1===i.years?a.push(i.years+" year"):i.years&&0!==i.years&&a.push(i.years+" years"),1===i.months?a.push("1 month"):i.months&&0!==i.months&&a.push(i.months+" months"),1===i.days?a.push("1 day"):i.days&&0!==i.days&&a.push(i.days+" days"),a.join(", ")},"diff-yd":e=>{let t=ai(e),i=Zt(t.from,t.to),a=[];return 1===i.years?a.push(i.years+" year"):i.years&&0!==i.years&&a.push(i.years+" years"),i.days+=30*(i.months||0),1===i.days?a.push("1 day"):i.days&&0!==i.days&&a.push(i.days+" days"),a.join(", ")},"diff-d":e=>{let t=ai(e),i=Zt(t.from,t.to),a=[];return i.days+=365*(i.years||0),i.days+=30*(i.months||0),1===i.days?a.push("1 day"):i.days&&0!==i.days&&a.push(i.days+" days"),a.join(", ")}},ri=["January","February","March","April","May","June","July","August","September","October","November","December"];var oi={currentday:()=>{let e=new Date;return String(e.getDate())},currentdayname:()=>{let e=new Date;return Vt[e.getDay()]},currentmonth:()=>{let e=new Date;return ri[e.getMonth()]},currentyear:()=>{let e=new Date;return String(e.getFullYear())},monthyear:()=>{let e=new Date;return ri[e.getMonth()]+" "+e.getFullYear()},"monthyear-1":()=>{let e=new Date;return e.setMonth(e.getMonth()-1),ri[e.getMonth()]+" "+e.getFullYear()},"monthyear+1":()=>{let e=new Date;return e.setMonth(e.getMonth()+1),ri[e.getMonth()]+" "+e.getFullYear()},year:e=>{let t=Pe(e,["date"]).date,i=new Date(t);return t&&!1===isNaN(i.getTime())?String(i.getFullYear()):""},"time ago":e=>function(e){let t=new Date(e);if(isNaN(t.getTime()))return"";let i=(new Date).getTime()-t.getTime(),a="ago";i<0&&(a="from now",i=Math.abs(i));let n=i/1e3/60/60/24;return n<365?Number(n)+" days "+a:Number(n/365)+" years "+a}(Pe(e,["date","fmt"]).date),"birth date":(e,t)=>{let i=Pe(e,["year","month","date"]);return t.push(i),i=Qt([i.year,i.month,i.day]),ti(i)},"birth date and age":(e,t)=>{let i=Pe(e,["year","month","day"]);return i.year&&/[a-z]/i.test(i.year)?ni.natural_date(e,t):(t.push(i),i=Qt([i.year,i.month,i.day]),ti(i))},"birth year and age":(e,t)=>{let i=Pe(e,["birth_year","birth_month"]);if(i.death_year&&/[a-z]/i.test(i.death_year))return ni.natural_date(e,t);t.push(i);let a=(new Date).getFullYear()-parseInt(i.birth_year,10);i=Qt([i.birth_year,i.birth_month]);let n=ti(i);return a&&(n+=` (age ${a})`),n},"death year and age":(e,t)=>{let i=Pe(e,["death_year","birth_year","death_month"]);return i.death_year&&/[a-z]/i.test(i.death_year)?ni.natural_date(e,t):(t.push(i),i=Qt([i.death_year,i.death_month]),ti(i))},"birth date and age2":(e,t)=>{let i=Pe(e,["at_year","at_month","at_day","birth_year","birth_month","birth_day"]);return t.push(i),i=Qt([i.birth_year,i.birth_month,i.birth_day]),ti(i)},"birth based on age as of date":(e,t)=>{let i=Pe(e,["age","year","month","day"]);t.push(i);let a=parseInt(i.age,10),n=parseInt(i.year,10)-a;return n&&a?`${n} (age ${i.age})`:`(age ${i.age})`},"death date and given age":(e,t)=>{let i=Pe(e,["year","month","day","age"]);t.push(i),i=Qt([i.year,i.month,i.day]);let a=ti(i);return i.age&&(a+=` (age ${i.age})`),a},dts:e=>{e=(e=e.replace(/\|format=[ymd]+/i,"")).replace(/\|abbr=(on|off)/i,"");let t=Pe(e,["year","month","date","bc"]);return t.date&&t.month&&t.year?!0===/[a-z]/.test(t.month)?[t.month,t.date,t.year].join(" "):[t.year,t.month,t.date].join("-"):t.month&&t.year?[t.year,t.month].join("-"):t.year?(t.year<0&&(t.year=Math.abs(t.year)+" BC"),t.year):""},time:()=>{let e=new Date,t=Qt([e.getFullYear(),e.getMonth(),e.getDate()]);return ti(t)},millennium:e=>{let t=Pe(e,["year"]),i=parseInt(t.year,10);return i=Math.floor(i/1e3)+1,t.abbr&&"y"===t.abbr?i<0?`${jt(Math.abs(i))} BC`:`${jt(i)}`:`${jt(i)} millennium`},start:ni.date,"start-date":ni.natural_date,birthdeathage:ni.two_dates,age:ni.age,"age nts":ni.age,"age in years":ni["diff-y"],"age in years and months":ni["diff-ym"],"age in years, months and days":ni["diff-ymd"],"age in years and days":ni["diff-yd"],"age in days":ni["diff-d"]};function si(e){let t=e.pop(),i=Number(e[0]||0),a=Number(e[1]||0),n=Number(e[2]||0);if("string"!=typeof t||isNaN(i))return null;let r=1;return/[SW]/i.test(t)&&(r=-1),r*(i+a/60+n/3600)}const li=function(e){if("number"!=typeof e)return e;let t=1e5;return Math.round(e*t)/t},ci={s:!0,w:!0},ui=function(e){let t=Pe(e);t=function(e){return e.list=e.list||[],e.list=e.list.map((t=>{let i=Number(t);if(!isNaN(i))return i;let a=t.split(/:/);return a.length>1?(e.props=e.props||{},e.props[a[0]]=a.slice(1).join(":"),null):t})),e.list=e.list.filter((e=>null!==e)),e}(t);let i=function(e){const t=e.map((e=>typeof e)).join("|");return 2===e.length&&"number|number"===t?{lat:e[0],lon:e[1]}:4===e.length&&"number|string|number|string"===t?(ci[e[1].toLowerCase()]&&(e[0]*=-1),"w"===e[3].toLowerCase()&&(e[2]*=-1),{lat:e[0],lon:e[2]}):6===e.length?{lat:si(e.slice(0,3)),lon:si(e.slice(3))}:8===e.length?{lat:si(e.slice(0,4)),lon:si(e.slice(4))}:{}}(t.list);return t.lat=li(i.lat),t.lon=li(i.lon),t.template="coord",delete t.list,t},mi={coord:(e,t)=>{let i=ui(e);return t.push(i),i.display&&-1===i.display.indexOf("inline")?"":`${i.lat||""}°N, ${i.lon||""}°W`}},di=function(e,t,i,a){let n=Pe(e);return a&&(n.name=n.template,n.template=a),t.push(n),""},pi={persondata:di,taxobox:di,citation:di,portal:di,reflist:di,"cite book":di,"cite journal":di,"cite web":di,"commons cat":di,"election box candidate":di,"election box begin":di,main:di},hi={adx:"adx",aim:"aim",amex:"amex",asx:"asx",athex:"athex",b3:"b3","B3 (stock exchange)":"B3 (stock exchange)",barbadosse:"barbadosse",bbv:"bbv",bcba:"bcba",bcs:"bcs",bhse:"bhse",bist:"bist",bit:"bit","bm&f bovespa":"b3","bm&f":"b3",bmad:"bmad",bmv:"bmv","bombay stock exchange":"bombay stock exchange","botswana stock exchange":"botswana stock exchange",bpse:"bpse",bse:"bse",bsx:"bsx",bvb:"bvb",bvc:"bvc",bvl:"bvl",bvpasa:"bvpasa",bwse:"bwse","canadian securities exchange":"canadian securities exchange",cse:"cse",darse:"darse",dfm:"dfm",dse:"dse",euronext:"euronext",euronextparis:"euronextparis",fse:"fse",fwb:"fwb",gse:"gse",gtsm:"gtsm",idx:"idx",ise:"ise",iseq:"iseq",isin:"isin",jasdaq:"jasdaq",jse:"jse",kase:"kase",kn:"kn",krx:"krx",lse:"lse",luxse:"luxse","malta stock exchange":"malta stock exchange",mai:"mai",mcx:"mcx",mutf:"mutf",myx:"myx",nag:"nag","nasdaq dubai":"nasdaq dubai",nasdaq:"nasdaq",neeq:"neeq",nepse:"nepse",nex:"nex",nse:"nse",newconnect:"newconnect","nyse arca":"nyse arca",nyse:"nyse",nzx:"nzx","omx baltic":"omx baltic",omx:"omx",ose:"ose","otc expert":"otc expert","otc grey":"otc grey","otc pink":"otc pink",otcqb:"otcqb",otcqx:"otcqx","pfts ukraine stock exchange":"pfts ukraine stock exchange","philippine stock exchange":"philippine stock exchange",prse:"prse",psx:"psx",karse:"karse",qe:"qe","saudi stock exchange":"saudi stock exchange",sehk:"sehk","Stock Exchange of Thailand":"Stock Exchange of Thailand",set:"set",sgx:"sgx",sse:"sse",swx:"swx",szse:"szse",tase:"tase","tsx-v":"tsx-v",tsx:"tsx",tsxv:"tsxv",ttse:"ttse",twse:"twse",tyo:"tyo",wbag:"wbag",wse:"wse","zagreb stock exchange":"zagreb stock exchange","zimbabwe stock exchange":"zimbabwe stock exchange",zse:"zse"},gi=(e,t)=>{let i=Pe(e,["ticketnumber","code"]);t.push(i);let a=i.template||"";""===a&&(a=i.code),a=(a||"").toLowerCase();let n=hi[a]||"";return i.ticketnumber&&(n=`${n}: ${i.ticketnumber}`),i.code&&!hi[i.code.toLowerCase()]&&(n+=" "+i.code),n},bi={};Object.keys(hi).forEach((e=>{bi[e]=gi}));const fi=function(e){return 1===(e=String(e)).length&&(e="0"+e),e},ki=function(e,t,i){e[`rd${t}-team${fi(i)}`]&&(i=fi(i));let a=e[`rd${t}-score${i}`],n=Number(a);return!1===isNaN(n)&&(a=n),{team:e[`rd${t}-team${i}`],score:a,seed:e[`rd${t}-seed${i}`]}},wi=function(e){let t=[],i=Pe(e);for(let e=1;e<7;e+=1){let a=[];for(let t=1;t<16;t+=2){let n=`rd${e}-team`;if(!i[n+t]&&!i[n+fi(t)])break;{let n=ki(i,e,t),r=ki(i,e,t+1);a.push([n,r])}}a.length>0&&t.push(a)}return{template:"playoffbracket",rounds:t}};let yi={"4teambracket":function(e,t){let i=wi(e);return t.push(i),""},player:(e,t)=>{let i=Pe(e,["number","country","name","dl"]);t.push(i);let a=`[[${i.name}]]`;if(i.country){let e=(i.country||"").toLowerCase(),t=qt.find((t=>e===t[1]||e===t[2]))||[];t&&t[0]&&(a=t[0]+"  "+a)}return i.number&&(a=i.number+" "+a),a},goal:(e,t)=>{let i={template:"goal",data:[]},a=Pe(e).list||[];for(let e=0;e<a.length;e+=2)i.data.push({min:a[e],note:a[e+1]||""});t.push(i);let n="⚽ ";return n+=i.data.map((e=>{let t=e.note;return t&&(t=` (${t})`),e.min+"'"+t})).join(", "),n},"sports table":(e,t)=>{let i=Pe(e),a={};Object.keys(i).filter((e=>/^team[0-9]/.test(e))).map((e=>i[e].toLowerCase())).forEach((e=>{a[e]={name:i[`name_${e}`],win:Number(i[`win_${e}`])||0,loss:Number(i[`loss_${e}`])||0,tie:Number(i[`tie_${e}`])||0,otloss:Number(i[`otloss_${e}`])||0,goals_for:Number(i[`gf_${e}`])||0,goals_against:Number(i[`ga_${e}`])||0}}));let n={date:i.update,header:i.table_header,teams:a};t.push(n)},"cbb roster/header":function(){return'{| class="wikitable"\n    |-\n    ! POS\n    ! #\n    ! Name\n    ! Height\n    ! Weight\n    ! Year\n    ! Previous School\n    ! Hometown\n    |-\n'},"cbb roster/player":function(e,t){let i=Pe(e);return t.push(i),`|-\n| ${i.pos||""}\n| ${i.num||""}\n| ${i.first||""} ${i.last||""}\n| ${i.ft||""}${i.in||""}\n| ${i.lbs||""}\n| ${i.class||""}\n| ${i.high_school||""}\n| ${i.home||""}\n`},"cbb roster/footer":function(){return"\n|}"}};var $i=Object.assign({},Rt,Ft,Kt,oi,mi,pi,bi,wi,yi);let xi=Object.assign({},Lt,Mt,$i);Object.keys(gt).forEach((e=>{void 0===xi[gt[e]]&&console.error(`Missing template: '${gt[e]}'`),xi[e]=xi[gt[e]]}));const vi=["0","1","2","3","4","5","6","7","8","9"],ji=function(e,t){let i=e.name;if(!0===lt.hasOwnProperty(i))return[""];if(!0===function(e){return!0===ct.hasOwnProperty(e)||!!ut.test(e)||!(!mt.test(e)&&!dt.test(e))||!!pt.test(e)}(i)){let t=Pe(e.body,[],"raw");return["",ht(t)]}if(!0===/^cite [a-z]/.test(i)){let t=Pe(e.body);return t.type=t.template,t.template="citation",["",t]}if(!0===xi.hasOwnProperty(i)){if("number"==typeof xi[i]){return[Pe(e.body,vi)[String(xi[i])]||""]}if("string"==typeof xi[i])return[xi[i]];if(!0===o(xi[i])){return["",Pe(e.body,xi[i])]}if(!0===((a=xi[i])&&"[object Object]"===Object.prototype.toString.call(a))){let t=Pe(e.body,xi[i].props);return[t[xi[i].out],t]}if("function"==typeof xi[i]){let a=[];return[xi[i](e.body,a,Pe,null,t),a[0]]}}var a;if(t&&t._templateFallbackFn){let i=[],a=t._templateFallbackFn(e.body,i,Pe,null,t);if(null!==a)return[a,i[0]]}let n=Pe(e.body);return 0===Object.keys(n).length&&(n=null),["",n]},_i=(e="")=>(e=(e=e.toLowerCase()).replace(/[-_]/g," ")).trim(),zi=function(e,t){this._type=e.type,this.domain=e.domain,Object.defineProperty(this,"data",{enumerable:!1,value:e.data}),Object.defineProperty(this,"wiki",{enumerable:!1,value:t})},Oi={type:function(){return this._type},links:function(e){let t=[];if(Object.keys(this.data).forEach((e=>{this.data[e].links().forEach((e=>t.push(e)))})),"string"==typeof e){e=e.charAt(0).toUpperCase()+e.substring(1);let i=t.find((t=>t.page()===e));return void 0===i?[]:[i]}return t},image:function(){let e=this.data.image||this.data.image2||this.data.logo||this.data.image_skyline||this.data.image_flag;if(!e)return null;let t=e.json(),i=t.text;return t.file=i,t.text="",t.caption=this.data.caption,t.domain=this.domain,new O(t)},get:function(e){let t=Object.keys(this.data);if("string"==typeof e){let i=_i(e);for(let e=0;e<t.length;e+=1){if(i===_i(t[e]))return this.data[t[e]]}return new ee}return o(e)?(e=e.map(_i)).map((e=>{for(let i=0;i<t.length;i+=1){if(e===_i(t[i]))return this.data[t[i]]}return new ee})):new ee},text:function(){return""},json:function(e){return function(e,t){let i=Object.keys(e.data).reduce(((t,i)=>(e.data[i]&&(t[i]=e.data[i].json()),t)),{});return!0===t.encode&&(i=Y(i)),i}(this,e=e||{})},wikitext:function(){return this.wiki||""},keyValue:function(){return Object.keys(this.data).reduce(((e,t)=>(this.data[t]&&(e[t]=this.data[t].text()),e)),{})}};Object.keys(Oi).forEach((e=>{zi.prototype[e]=Oi[e]})),zi.prototype.data=zi.prototype.keyValue,zi.prototype.template=zi.prototype.type,zi.prototype.images=zi.prototype.image;const Ei=function(e,t){Object.defineProperty(this,"data",{enumerable:!1,value:e}),Object.defineProperty(this,"wiki",{enumerable:!1,value:t})},qi={title:function(){let e=this.data;return e.title||e.encyclopedia||e.author||""},links:function(e){let t=[];if("number"==typeof e)return t[e];if("number"==typeof e)return t[e];if("string"==typeof e){e=e.charAt(0).toUpperCase()+e.substring(1);let i=t.find((t=>t.page()===e));return void 0===i?[]:[i]}return t||[]},text:function(){return""},wikitext:function(){return this.wiki||""},json:function(e={}){let t=this.data||{};return!0===e.encode&&(t=Object.assign({},t),t=Y(t)),t}};Object.keys(qi).forEach((e=>{Ei.prototype[e]=qi[e]}));const Si={text:function(){return ce(this._text||"").text()},json:function(){return this.data||{}},wikitext:function(){return this.wiki||""}},Ni=function(e,t="",i=""){Object.defineProperty(this,"data",{enumerable:!1,value:e}),Object.defineProperty(this,"_text",{enumerable:!1,value:t}),Object.defineProperty(this,"wiki",{enumerable:!1,value:i})};Object.keys(Si).forEach((e=>{Ni.prototype[e]=Si[e]}));const Ci=/^(cite |citation)/i,Li={citation:!0,refn:!0,harvnb:!0,source:!0},Di=function(e,t){let{list:i,wiki:a}=function(e,t){let i=[],a=st(e);const n=function(a,r){a.parent=r,a.children&&a.children.length>0&&a.children.forEach((e=>n(e,a)));let[o,s]=ji(a,t);a.wiki=o,s&&i.push({name:a.name,wiki:a.body,nested:Boolean(a.parent),text:o,json:s});const l=function(e,t,i){e.parent&&(e.parent.body=e.parent.body.replace(t,i),l(e.parent,t,i))};l(a,a.body,a.wiki),e=e.replace(a.body,a.wiki)};return a.forEach((e=>n(e,null))),a.forEach((t=>{e=e.replace(t.body,t.wiki)})),{list:i,wiki:e}}(e._wiki,t),n=t?t._domain:null,{infoboxes:r,references:o,templates:s}=function(e,t){let i={infoboxes:[],templates:[],references:[]};return e.forEach((e=>{let a=e.json,n=a.template||a.type||a.name;if(!0!==Li[n]&&!0!==Ci.test(n))return"infobox"===a.template&&"yes"!==a.subbox?(a.domain=t,a.data=a.data||{},void i.infoboxes.push(new zi(a,e.wiki))):void i.templates.push(new Ni(a,e.text,e.wiki));i.references.push(new Ei(a,e.wiki))})),i}(i,n);e._infoboxes=e._infoboxes||[],e._references=e._references||[],e._templates=e._templates||[],e._infoboxes=e._infoboxes.concat(r),e._references=e._references.concat(o),e._templates=e._templates.concat(s),e._wiki=a},Ii=function(e){return/^ *\{\{ *(cite|citation)/i.test(e)&&/\}\} *$/.test(e)&&!1===/citation needed/i.test(e)},Ai=function(e){let t=Pe(e);return t.type=t.template.replace(/cite /,""),t.template="citation",t},Pi=function(e){return{template:"citation",type:"inline",data:{},inline:ce(e)||{}}},Ti=function(e){let t=[],i=e._wiki;i=i.replace(/ ?<ref>([\s\S]{0,1800}?)<\/ref> ?/gi,(function(e,a){let n=!1;return it(a).forEach((a=>{if(Ii(a)){let r=Ai(a);r&&(t.push({json:r,wiki:e}),n=!0),i=i.replace(a,"")}})),n||t.push({json:Pi(a),wiki:e})," "})),i=i.replace(/ ?<ref [^>]{0,200}?\/> ?/gi," "),i=i.replace(/ ?<ref [^>]{0,200}>([\s\S]{0,1800}?)<\/ref> ?/gi,(function(e,a){let n=!1;return it(a).forEach((a=>{if(Ii(a)){let r=Ai(a);r&&(t.push({json:r,wiki:e}),n=!0),i=i.replace(a,"")}})),n||t.push({json:Pi(a),wiki:e})," "})),i=i.replace(/ ?<[ /]?[a-z0-9]{1,8}[a-z0-9=" ]{2,20}[ /]?> ?/g," "),e._references=t.map((e=>new Ei(e.json,e.wiki))),e._wiki=i},Mi={coach:["team","year","g","w","l","w-l%","finish","pg","pw","pl","pw-l%"],player:["year","team","gp","gs","mpg","fg%","3p%","ft%","rpg","apg","spg","bpg","ppg"],roster:["player","gp","gs","mpg","fg%","3fg%","ft%","rpg","apg","spg","bpg","ppg"]};let Ri=["res","record","opponent","method","event","date","round","time","location","notes"];const Fi=function(e,t){const i={templates:[],text:e._wiki};var a;return function(e,t){e.text=e.text.replace(/\{\{election box begin([\s\S]+?)\{\{election box end\}\}/gi,(i=>{let a={_wiki:i,_templates:[]};Di(a,t);let n=a._templates.map((e=>e.json())),r=n.find((e=>"election box"===e.template))||{},o=n.filter((e=>"election box candidate"===e.template)),s=n.find((e=>"election box gain"===e.template||"election box hold"===e.template))||{};return(o.length>0||s)&&e.templates.push({template:"election box",title:r.title,candidates:o,summary:s.data}),""}))}(i,t),function(e,t,i){e.text=e.text.replace(/<gallery([^>]*)>([\s\S]+)<\/gallery>/g,((a,n,r)=>{let o=r.split(/\n/g);return o=o.filter((e=>e&&""!==e.trim())),o=o.map((e=>{let i=e.split(/\|/),a={file:i[0].trim(),lang:t.lang(),domain:t.domain()},n=new O(a).json(),r=i.slice(1).join("|");return""!==r&&(n.caption=ce(r)),n})),o.length>0&&e.templates.push({template:"gallery",images:o,pos:i.title}),""}))}(i,t,e),(a=i).text=a.text.replace(/<math([^>]*)>([\s\S]*?)<\/math>/g,((e,t,i)=>{let n=ce(i).text();return a.templates.push({template:"math",formula:n,raw:i}),n&&n.length<12?n:""})),a.text=a.text.replace(/<chem([^>]*)>([\s\S]*?)<\/chem>/g,((e,t,i)=>(a.templates.push({template:"chem",data:i}),""))),function(e){e.text=e.text.replace(/\{\{mlb game log /gi,"{{game log "),e.text=e.text.replace(/\{\{game log (section|month)[\s\S]+?\{\{game log (section|month) end\}\}/gi,(t=>{let i=function(e){let t=["#","date","opponent","score","win","loss","save","attendance","record"];return!0===/\|stadium=y/i.test(e)&&t.splice(7,0,"stadium"),!0===/\|time=y/i.test(e)&&t.splice(7,0,"time"),!0===/\|box=y/i.test(e)&&t.push("box"),t}(t);t=(t=t.replace(/^\{\{.*?\}\}/,"")).replace(/\{\{game log (section|month) end\}\}/i,"");let a="! "+i.join(" !! "),n=ke("{|\n"+a+"\n"+t+"\n|}");return n=n.map((e=>(Object.keys(e).forEach((t=>{e[t]=e[t].text()})),e))),e.templates.push({template:"mlb game log section",data:n}),""}))}(i),function(e){e.text=e.text.replace(/\{\{mma record start[\s\S]+?\{\{end\}\}/gi,(t=>{t=(t=t.replace(/^\{\{.*?\}\}/,"")).replace(/\{\{end\}\}/i,"");let i="! "+Ri.join(" !! "),a=ke("{|\n"+i+"\n"+t+"\n|}");return a=a.map((e=>(Object.keys(e).forEach((t=>{e[t]=e[t].text()})),e))),e.templates.push({template:"mma record start",data:a}),""}))}(i),function(e){e.text=e.text.replace(/\{\{nba (coach|player|roster) statistics start([\s\S]+?)\{\{s-end\}\}/gi,((t,i)=>{t=(t=t.replace(/^\{\{.*?\}\}/,"")).replace(/\{\{s-end\}\}/,""),i=i.toLowerCase().trim();let a="! "+Mi[i].join(" !! "),n=ke("{|\n"+a+"\n"+t+"\n|}");return n=n.map((e=>(Object.keys(e).forEach((t=>{e[t]=e[t].text()})),e))),e.templates.push({template:"NBA "+i+" statistics",data:n}),""}))}(i),i.templates=i.templates.map((e=>new Ni(e))),i},Ui={tables:!0,references:!0,paragraphs:!0,templates:!0,infoboxes:!0};class Bi{constructor(e,t){let i={doc:t,title:e.title||"",depth:e.depth,wiki:e.wiki||"",templates:[],tables:[],infoboxes:[],references:[],paragraphs:[]};Object.keys(i).forEach((e=>{Object.defineProperty(this,"_"+e,{enumerable:!1,writable:!0,value:i[e]})}));const a=Fi(this,t);this._wiki=a.text,this._templates=this._templates.concat(a.templates),Ti(this),Di(this,t),function(e){let t=[],i=e._wiki,a=i.split("\n"),n=[];for(let e=0;e<a.length;e+=1)if(!0!==ve.test(a[e]))if(!0!==je.test(a[e]))n.length>0&&(n[n.length-1]+="\n"+a[e]);else{n[n.length-1]+="\n"+a[e];let i=n.pop();t.push(i)}else n.push(a[e]);let r=[];t.forEach((e=>{if(e){i=i.replace(e+"\n",""),i=i.replace(e,"");let t=ke(e);t&&t.length>0&&r.push(new $e(t,e))}})),r.length>0&&(e._tables=r),e._wiki=i}(this),et(this,t)}title(){return this._title||""}index(){if(!this._doc)return null;let e=this._doc.sections().indexOf(this);return-1===e?null:e}depth(){return this._depth}indentation(){return this.depth()}sentences(){return this.paragraphs().reduce(((e,t)=>e.concat(t.sentences())),[])}paragraphs(){return this._paragraphs||[]}links(e){let t=[];if(this.infoboxes().forEach((e=>{t.push(e.links())})),this.sentences().forEach((e=>{t.push(e.links())})),this.tables().forEach((e=>{t.push(e.links())})),this.lists().forEach((e=>{t.push(e.links())})),t=t.reduce(((e,t)=>e.concat(t)),[]).filter((e=>void 0!==e)),"string"==typeof e){let i=t.find((t=>t.page().toLowerCase()===e.toLowerCase()));return void 0===i?[]:[i]}return t}tables(){return this._tables||[]}templates(e){let t=this._templates||[];return"string"==typeof e?(e=e.toLowerCase(),t.filter((t=>t.data.template===e||t.data.name===e))):t}infoboxes(e){let t=this._infoboxes||[];return"string"==typeof e?(e=(e=e.replace(/^infobox /i,"")).trim().toLowerCase(),t.filter((t=>t._type===e))):t}coordinates(){return[...this.templates("coord"),...this.templates("coor")].map((e=>e.json()))}lists(){let e=[];return this.paragraphs().forEach((t=>{e=e.concat(t.lists())})),e}interwiki(){let e=[];return this.paragraphs().forEach((t=>{e=e.concat(t.interwiki())})),e}images(){let e=[];return this.paragraphs().forEach((t=>{e=e.concat(t.images())})),e}references(){return this._references||[]}remove(){if(!this._doc)return null;let e={};e[this.title()]=!0,this.children().forEach((t=>e[t.title()]=!0));let t=this._doc.sections();return t=t.filter((t=>!0!==e.hasOwnProperty(t.title()))),t=t.filter((t=>!0!==e.hasOwnProperty(t.title()))),this._doc._sections=t,this._doc}nextSibling(){if(!this._doc)return null;let e=this._doc.sections();for(let t=(this.index()||0)+1;t<e.length;t++){if(e[t].depth()<this.depth())return null;if(e[t].depth()===this.depth())return e[t]}return null}next(){return this.nextSibling()}lastSibling(){if(!this._doc)return null;return this._doc.sections()[(this.index()||0)-1]||null}last(){return this.lastSibling()}previousSibling(){return this.lastSibling()}previous(){return this.lastSibling()}children(e){if(!this._doc)return null;let t=this._doc.sections(),i=this.index()||0,a=[];if(t[i+1]&&t[i+1].depth()>this.depth())for(let e=i+1;e<t.length&&t[e].depth()>this.depth();e+=1)a.push(t[e]);return"string"==typeof e?a.find((t=>t.title().toLowerCase()===e.toLowerCase())):a}sections(e){return this.children(e)}parent(){if(!this._doc)return null;let e=this._doc.sections();for(let t=this.index()||0;t>=0;t-=1)if(e[t]&&e[t].depth()<this.depth())return e[t];return null}text(e){return e=d(e,Ui),this.paragraphs().map((t=>t.text(e))).join("\n\n")}wikitext(){return this._wiki}json(e){return function(e,t){let i={};if(!0===(t=d(t,G)).headers&&(i.title=e.title()),!0===t.depth&&(i.depth=e.depth()),!0===t.paragraphs){let a=e.paragraphs().map((e=>e.json(t)));a.length>0&&(i.paragraphs=a)}if(!0===t.images){let a=e.images().map((e=>e.json(t)));a.length>0&&(i.images=a)}if(!0===t.tables){let a=e.tables().map((e=>e.json(t)));a.length>0&&(i.tables=a)}if(!0===t.templates){let a=e.templates().map((e=>e.json()));a.length>0&&(i.templates=a,!0===t.encode&&i.templates.forEach((e=>Y(e))))}if(!0===t.infoboxes){let a=e.infoboxes().map((e=>e.json(t)));a.length>0&&(i.infoboxes=a)}if(!0===t.lists){let a=e.lists().map((e=>e.json(t)));a.length>0&&(i.lists=a)}if(!0===t.references||!0===t.citations){let a=e.references().map((e=>e.json(t)));a.length>0&&(i.references=a)}return!0===t.sentences&&(i.sentences=e.sentences().map((e=>e.json(t)))),i}(this,e=d(e,Ui))}}Bi.prototype.citations=Bi.prototype.references;const Ki={sentences:"sentence",paragraphs:"paragraph",links:"link",tables:"table",templates:"template",infoboxes:"infobox",coordinates:"coordinate",lists:"list",images:"image",references:"reference",citations:"citation"};Object.keys(Ki).forEach((e=>{let t=Ki[e];Bi.prototype[t]=function(t){let i=this[e](t);return"number"==typeof t?i[t]:i[0]||null}}));const Wi=/^(={1,6})(.{1,200}?)={1,6}$/,Hi=/\{\{.+?\}\}/,Yi=function(e,t,i){let a=t.match(Wi);if(!a)return e.title="",e.depth=0,e;let n=a[2]||"";n=ce(n).text(),Hi.test(n)&&(n=function(e,t){return st(e).forEach((i=>{let[a]=ji(i,t);e=e.replace(i.body,a)})),e}(n,i));let o={_wiki:n};Ti(o),n=o._wiki,n=r(n);let s=0;return a[1]&&(s=a[1].length-2),e.title=n,e.depth=s,e},Gi=new RegExp("^("+["references","reference","einzelnachweise","referencias","références","notes et références","脚注","referenser","bronnen","примечания"].join("|")+"):?","i"),Zi=/(?:\n|^)(={2,6}.{1,200}?={2,6})/g,Vi=function(e){let t=[],i=e._wiki.split(Zi);for(let a=0;a<i.length;a+=2){let n=i[a-1]||"",r=i[a]||"";if(""===r&&""===n)continue;let o={title:"",depth:null,wiki:r};Yi(o,n,e),t.push(new Bi(o,e))}return function(e){return e.filter(((t,i)=>!0!==Gi.test(t.title())||t.paragraphs().length>0||t.templates().length>0||(e[i+1]&&e[i+1].depth()>t.depth()&&(e[i+1]._depth-=1),!1)))}(t)},Ji=new RegExp("\\[\\[("+h.join("|")+"):(.{2,178}?)]](w{0,10})","gi"),Xi=new RegExp("^\\[\\[:?("+h.join("|")+"):","gi"),Qi=function(e){const t=[];let i=e.match(Ji);i&&i.forEach((function(e){(e=(e=(e=e.replace(Xi,"")).replace(/\|?[ *]?\]\]$/,"")).replace(/\|.*/,""))&&!e.match(/[[\]]/)&&t.push(e.trim())}));const a=e.replace(Ji,"");return[t,a]},ea={tables:!0,lists:!0,paragraphs:!0};class ta{constructor(e,t){t=t||{},this._options=t;let i=t.userAgent||t["User-Agent"]||t["Api-User-Agent"];i=i||"User of the wtf_wikipedia library";let a={title:t.title||null,type:"page",userAgent:i,redirectTo:null,wiki:e||"",categories:[],sections:[],coordinates:[],templateFallbackFn:t.templateFallbackFn||null,revisionID:t.revisionID||null,timestamp:t.timestamp||null,description:t.description||null,wikidata:t.wikidata||null,pageImage:t.pageImage||null,pageID:t.pageID||t.id||null,namespace:t.namespace||t.ns||null,lang:t.lang||t.language||null,domain:t.domain||null};if(Object.keys(a).forEach((e=>{Object.defineProperty(this,"_"+e,{enumerable:!1,writable:!0,value:a[e]})})),!0===function(e){return!!e&&M.test(e)}(this._wiki)){this._type="redirect",this._redirectTo=function(e){let t=e.match(M);if(t&&t[2])return(T(t[2])||[])[0];return{}}(this._wiki);const[e,t]=Qi(this._wiki);return this._categories=e,void(this._wiki=t)}this._wiki=K(this._wiki);const[n,r]=Qi(this._wiki);this._categories=n,this._wiki=r,this._sections=Vi(this)}title(e){if(void 0!==e)return this._title=e,e;if(this._title)return this._title;let t=null,i=this.sentences()[0];return i&&(t=i.bold()),t}pageID(e){return void 0!==e&&(this._pageID=e),this._pageID||null}wikidata(e){return void 0!==e&&(this._wikidata=e),this._wikidata||null}domain(e){return void 0!==e&&(this._domain=e),this._domain||null}language(e){return void 0!==e&&(this._lang=e),this._lang||null}url(){let e=this.title();if(!e)return null;let t=this.language()||"en",i=this.domain()||"wikipedia.org";return e=e.replace(/ /g,"_"),e=encodeURIComponent(e),`https://${t}.${i}/wiki/${e}`}namespace(e){return void 0!==e&&(this._namespace=e),this._namespace||null}isRedirect(){return"redirect"===this._type}isStub(){return this.templates().map((e=>e.json())).some((e=>{let t=e.template||"";if(_.has(t))return!0;if("stub"===t||t.endsWith("-stub"))return!0;let i=t.split(/[- ]/);if(i.length>1){let e=i[i.length-1];if(_.has(e))return!0}return!1}))}redirectTo(){return this._redirectTo}isDisambiguation(){return function(e){let t=e.templates().map((e=>e.json()));if(t.find((e=>w.hasOwnProperty(e.template)||v.hasOwnProperty(e.template))))return!0;let i=e.title();return!(!i||!0!==x.test(i))||!t.find((e=>$.hasOwnProperty(e.template)))&&(!0===j(e.sentence(0))||!0===j(e.sentence(1)))}(this)}categories(e){let t=this._categories||[];return"number"==typeof e?[t[e]]:t}sections(e){let t=this._sections||[];if(t.forEach((e=>{e._doc=this})),"string"==typeof e){let i=e.toLowerCase().trim();return t.filter((e=>e.title().toLowerCase()===i))}return"number"==typeof e?[t[e]]:t}paragraphs(e){let t=[];return this.sections().forEach((e=>{t=t.concat(e.paragraphs())})),"number"==typeof e?[t[e]]:t}sentences(e){let t=[];return this.sections().forEach((e=>{t=t.concat(e.sentences())})),"number"==typeof e?[t[e]]:t}images(e){let t=m(this,"images",null);return this.infoboxes().forEach((e=>{let i=e.image();i&&t.unshift(i)})),this.templates().forEach((e=>{"gallery"===e.data.template&&(e.data.images=e.data.images||[],e.data.images.forEach((e=>{e instanceof O||(e.language=this.language(),e.domain=this.domain(),e=new O(e)),t.push(e)})))})),"number"==typeof e?[t[e]]:t}links(e){return m(this,"links",e)}interwiki(e){return m(this,"interwiki",e)}lists(e){return m(this,"lists",e)}tables(e){return m(this,"tables",e)}templates(e){return m(this,"templates",e)}references(e){return m(this,"references",e)}citations(e){return this.references(e)}coordinates(e){return m(this,"coordinates",e)}infoboxes(e){let t=m(this,"infoboxes",e);return t=t.sort(((e,t)=>Object.keys(e.data).length>Object.keys(t.data).length?-1:1)),t}text(e){if(e=d(e,ea),!0===this.isRedirect())return"";return this.sections().map((t=>t.text(e))).join("\n\n")}json(e){return function(e,t){let i={};return(t=d(t,p)).title&&(i.title=e.title()),!0===e.isRedirect()&&(i.isRedirect=!0,i.redirectTo=e.redirectTo(),i.sections=[]),!0===e.isStub()&&(i.isStub=!0),!0===e.isDisambiguation()&&(i.isDisambiguation=!0),t.pageID&&e.pageID()&&(i.pageID=e.pageID()),t.wikidata&&e.wikidata()&&(i.wikidata=e.wikidata()),t.revisionID&&e.revisionID()&&(i.revisionID=e.revisionID()),t.timestamp&&e.timestamp()&&(i.timestamp=e.timestamp()),t.description&&e.description()&&(i.description=e.description()),t.categories&&(i.categories=e.categories()),t.sections&&(i.sections=e.sections().map((e=>e.json(t)))),t.infoboxes&&(i.infoboxes=e.infoboxes().map((e=>e.json(t)))),t.images&&(i.images=e.images().map((e=>e.json(t)))),(t.citations||t.references)&&(i.references=e.references()),t.coordinates&&(i.coordinates=e.coordinates()),t.plaintext&&(i.plaintext=e.text(t)),i}(this,e=d(e,ea))}wikitext(){return this._wiki||""}debug(){return console.log("\n"),this.sections().forEach((e=>{let t=" - ";for(let i=0;i<e.depth();i+=1)t=" -"+t;console.log(t+(e.title()||"(Intro)"))})),this}revisionID(e){return void 0!==e&&(this._revisionID=e),this._revisionID||null}timestamp(e){return void 0!==e&&(this._timestamp=e),this._timestamp||null}description(e){return void 0!==e&&(this._description=e),this._description||null}pageImage(e){void 0!==e&&(this._pageImage=e);let t=this._pageImage||null;return new O({file:t})}options(){return this._options}}const ia={categories:"category",sections:"section",paragraphs:"paragraph",sentences:"sentence",images:"image",links:"link",lists:"list",tables:"table",templates:"template",references:"reference",citations:"citation",coordinates:"coordinate",infoboxes:"infobox"};Object.keys(ia).forEach((e=>{let t=ia[e];ta.prototype[t]=function(t){return this[e](t)[0]||null}})),ta.prototype.lang=ta.prototype.language,ta.prototype.ns=ta.prototype.namespace,ta.prototype.plaintext=ta.prototype.text,ta.prototype.isDisambig=ta.prototype.isDisambiguation,ta.prototype.citations=ta.prototype.references,ta.prototype.redirectsTo=ta.prototype.redirectTo,ta.prototype.redirect=ta.prototype.redirectTo,ta.prototype.redirects=ta.prototype.redirectTo;const aa=/^https?:\/\//,na={lang:"en",wiki:"wikipedia",domain:void 0,follow_redirects:!0,path:"api.php"},ra=function(e,t,i){"string"==typeof t&&(t={lang:t}),(t={...na,...t}).title=e,"string"==typeof e&&aa.test(e)&&(t={...t,...n(e)});const r=u(t),s=function(e){let t,i=e.userAgent||e["User-Agent"]||e["Api-User-Agent"]||"User of the wtf_wikipedia library";return t=e.noOrigin?"":e.origin||e.Origin||"*",{method:"GET",headers:{"Content-Type":"application/json","Api-User-Agent":i,"User-Agent":i,Origin:t,"Accept-Encoding":"gzip"},redirect:"follow"}}(t);return a(r,s).then((e=>e.json())).then((a=>{if(!a)throw new Error(`No JSON Data Found For ${r}`);let n=function(e,t={}){return e?.query?.pages&&e?.query&&e?Object.keys(e.query.pages).map((i=>{let a=e.query.pages[i]||{};if(a.hasOwnProperty("missing")||a.hasOwnProperty("invalid"))return null;let n=a.revisions[0]["*"];!n&&a.revisions[0].slots&&(n=a.revisions[0].slots.main["*"]);let r=a.revisions[0].revid,o=a.revisions[0].timestamp;a.pageprops=a.pageprops||{};let s=t.domain;return!s&&t.wiki&&(s=`${t.wiki}.org`),{wiki:n,meta:Object.assign({},t,{title:a.title,pageID:a.pageid,namespace:a.ns,domain:s,revisionID:r,timestamp:o,pageImage:a.pageprops.page_image_free,wikidata:a.pageprops.wikibase_item,description:a.pageprops["wikibase-shortdesc"]})}})):null}(a,t);return n=function(e,t){let i=(e=e.filter((e=>e))).map((e=>new ta(e.wiki,e.meta)));return 0===i.length?null:o(t)||1!==i.length?i:i[0]}(n,e),i&&i(null,n),n})).catch((e=>(console.error(e),i&&i(e,null),null)))};const oa=function(e,t){return new ta(e,t)},sa={Doc:ta,Section:Bi,Paragraph:Oe,Sentence:ee,Image:O,Infobox:zi,Link:V,List:We,Reference:Ei,Table:$e,Template:Ni,http:function(e,t){return a(e,t).then((function(e){return e.json()})).catch((t=>(console.error("\n\n=-=- http response error =-=-=-"),console.error(e),console.error(t),{})))},wtf:oa};return oa.fetch=function(e,t,i){return ra(e,t,i)},oa.plugin=oa.extend=function(e){return e(sa,xi,ct),this},oa.version="10.3.1",oa}));
